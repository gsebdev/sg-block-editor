{"version":3,"sources":["../src/BlockEditor.tsx","../src/context.tsx","../src/helpers.ts","../src/blocks/ImageBlock.tsx","../src/components/Button.tsx","../src/Block.tsx","../src/components/SpacingTool.tsx","../src/default-blocks.tsx","../src/blocks/TextBlock.tsx","../lib/text-module/component/src/components/TextIgniter/TextIgniter.jsx","../lib/text-module/component/src/contexts/editorContext.jsx","../lib/text-module/component/src/hooks/useEditorFormatting.jsx","../lib/text-module/component/src/hooks/useEditorState.jsx","../lib/text-module/component/src/hooks/useTableOperation.jsx","../lib/text-module/component/src/hooks/useHeadingState.jsx","../lib/text-module/component/src/components/TextIgniter/Toolbar.jsx","../lib/text-module/component/src/assets/icon.jsx","../lib/text-module/component/src/components/ui/Button.jsx","../lib/text-module/component/src/components/ui/ToolTip.jsx","../lib/text-module/component/src/components/ui/Dialog.jsx","../lib/text-module/component/src/components/ui/Dropdown.jsx","../lib/text-module/component/src/hooks/usePreviewMode.jsx","../lib/text-module/component/src/components/TextIgniter/Editor.jsx","../src/blocks/GroupBlock.tsx","../src/definitions.tsx"],"sourcesContent":["import { forwardRef, useCallback, useEffect, useRef } from \"react\";\r\nimport { BlocksEditorContextProvider, useEditor } from \"./context\";\r\nimport { BlocksEditorProps, EditorRefObject } from \"./definitions\";\r\nimport defaultBlocks from \"./default-blocks\";\r\nimport { FaPlus } from \"react-icons/fa6\";\r\nimport Block, { AddBlockContextMenu } from \"./Block\";\r\nimport clsx from \"clsx\";\r\n\r\nconst BlockEditorContent: React.FC = () => {\r\n\r\n    const { blocks, setActiveBlock } = useEditor();\r\n    const editorRef = useRef<HTMLDivElement>(null);\r\n\r\n    const handleClickOutside = useCallback((e: MouseEvent) => {\r\n        if (editorRef.current && !editorRef.current.contains(e.target as Node)) {\r\n                setActiveBlock(null);\r\n        }\r\n    }, [setActiveBlock]);\r\n\r\n    useEffect(() => {\r\n        document.body.addEventListener('click', handleClickOutside);\r\n        return () => {\r\n            document.body.removeEventListener('click', handleClickOutside);\r\n        };\r\n    }, [handleClickOutside]);\r\n\r\n\r\n    return (\r\n        <div ref={editorRef} className={clsx(\r\n            \"sg-block__editor__content\",\r\n            blocks.size === 0 ? \"sg-block__editor__content--empty\" : \"\"\r\n        )}>\r\n            <div>\r\n                {!!blocks &&\r\n                    Array.from(blocks.values()).filter(block => !block.parentID).map(block => (\r\n                        <Block key={block.blockID} block={block} />\r\n                    ))\r\n                }\r\n                {blocks.size === 0 &&\r\n                    <AddBlockContextMenu>\r\n                        <button className=\"sg-block__btn\"><FaPlus style={{ marginRight: 4 }} />Ajouter du contenu</button>\r\n                    </AddBlockContextMenu>\r\n                }\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default forwardRef<EditorRefObject, BlocksEditorProps>(function BlocksEditor({ data, onChange, extraBlocks }, ref) {\r\n    const blocks = {\r\n        ...defaultBlocks,\r\n        ...extraBlocks\r\n    };\r\n\r\n    return (\r\n        <BlocksEditorContextProvider data={data} onChange={onChange} ref={ref} availableBlocks={blocks}>\r\n            <BlockEditorContent />\r\n        </BlocksEditorContextProvider>\r\n    )\r\n});","import { createContext, Dispatch, forwardRef, useCallback, useContext, useEffect, useImperativeHandle, useRef, useState } from \"react\";\r\nimport { BlockType, EditorBlock, EditorParsedBlock, EditorProviderProps, EditorRefObject } from \"./definitions\";\r\nimport { SetStateAction } from \"react\";\r\nimport { genBlockID } from \"./helpers\";\r\n\r\nconst initialContext: {\r\n    blocks: Map<string, EditorParsedBlock>,\r\n    setBlocks: Dispatch<SetStateAction<Map<string, EditorParsedBlock>>>,\r\n    addBlock: (type: BlockType['type'], args?: { parentID?: string, position?: 'after' | 'before', reference?: string }) => void,\r\n    updateBlock: (blockID: string, value: Partial<EditorParsedBlock>, shouldNotDirty?: boolean) => void,\r\n    deleteBlock: (blockID: string) => void,\r\n    isDirty: boolean,\r\n    setIsDirty: Dispatch<SetStateAction<boolean>>\r\n    activeBlock: string | null,\r\n    setActiveBlock: Dispatch<SetStateAction<string | null>>,\r\n    availableBlocks: { [key: string]: EditorBlock },\r\n} = {\r\n    isDirty: false,\r\n    setIsDirty: () => { },\r\n    blocks: new Map(),\r\n    setBlocks: () => { },\r\n    addBlock: () => { },\r\n    updateBlock: () => { },\r\n    deleteBlock: () => { },\r\n    activeBlock: null,\r\n    setActiveBlock: () => { },\r\n    availableBlocks: {},\r\n};\r\n\r\nconst blockEditorContext = createContext(initialContext);\r\n\r\nexport const BlocksEditorContextProvider = forwardRef<EditorRefObject, EditorProviderProps>(({ children, data, onChange, availableBlocks }, ref) => {\r\n\r\n    const [blocks, setBlocks] = useState<Map<string, EditorParsedBlock>>(new Map());\r\n    const [isDirty, setIsDirty] = useState<boolean>(false);\r\n    const [activeBlock, setActiveBlock] = useState<string | null>(null);\r\n    const renderedRef = useRef({\r\n        JSONValue: data ?? [],\r\n        HTMLValue: '',\r\n        getJSONValue() { return this.JSONValue; },\r\n        getHTMLValue() { return this.HTMLValue; }\r\n    })\r\n\r\n    useImperativeHandle(ref, () => renderedRef.current);\r\n\r\n    useEffect(() => {\r\n        if (isDirty) {\r\n            const renderBlocksToJSONRecursive = (b: EditorParsedBlock): BlockType => {\r\n                if (b.children && Array.isArray(b.children)) {\r\n                    return {\r\n                        type: b.type,\r\n                        value: b.value,\r\n                        children: b.children.map(child => {\r\n                            const childBlock = blocks.get(child);\r\n                            if (childBlock) {\r\n                                return renderBlocksToJSONRecursive(childBlock);\r\n                            }\r\n                            return {\r\n                                type: 'text',\r\n                                value: {\r\n                                    htmlContent: '<p>[ERROR] Block not found</p>'\r\n                                }\r\n                            };\r\n                        })\r\n                    }\r\n                }\r\n                return {\r\n                    type: b.type,\r\n                    value: b.value,\r\n                };\r\n            }\r\n            \r\n            const updateValuesAsync = async () => {\r\n                const blocksValue = Array.from(blocks.values())\r\n                \r\n                //Render the HTML if render function is provided\r\n                let newRenderedHTML = '';\r\n                for (const b of blocksValue) {\r\n                    const { type, value } = b;\r\n                    const { render } = availableBlocks[type] ?? {};\r\n                    if(render) {\r\n                        const next = await render(value);\r\n                        newRenderedHTML += next;\r\n                    } else {\r\n                        newRenderedHTML += '<p>No render function provided</p>';\r\n                    }\r\n                }\r\n\r\n                // Render the JSON\r\n                const newRenderedJSON = blocksValue.filter(block => !block.parentID).map(editorBlock => renderBlocksToJSONRecursive(editorBlock));\r\n                return {\r\n                    HTMLValue: newRenderedHTML,\r\n                    JSONValue: newRenderedJSON\r\n                }\r\n            }\r\n\r\n            // set the updated values and trigger change callback\r\n            updateValuesAsync().then(({ HTMLValue, JSONValue }) => {\r\n                renderedRef.current.JSONValue = JSONValue;\r\n                renderedRef.current.HTMLValue = HTMLValue;\r\n                onChange?.(JSONValue);\r\n                setIsDirty(false);\r\n            });\r\n\r\n        }\r\n    }, [blocks, isDirty, onChange]);\r\n\r\n    useEffect(() => {\r\n        renderedRef.current.JSONValue = data ?? [];\r\n        // parse blocks and set initital state\r\n        if (data) {\r\n            const initialBlocks = new Map<string, EditorParsedBlock>();\r\n\r\n            const parseBlocks = (b: BlockType, parentID?: string) => {\r\n                const blockID = genBlockID();\r\n\r\n                if (b.children && Array.isArray(b.children)) {\r\n                    const parsed: EditorParsedBlock = { ...b, blockID, parentID, children: [] };\r\n                    parsed.children = b.children.map(child => parseBlocks(child, blockID));\r\n                    initialBlocks.set(blockID, parsed);\r\n                } else {\r\n                    initialBlocks.set(blockID, {\r\n                        ...b,\r\n                        blockID,\r\n                        parentID,\r\n                        children: undefined\r\n                    });\r\n                }\r\n                return blockID;\r\n            }\r\n\r\n            data.forEach(b => parseBlocks(b));\r\n\r\n            setBlocks(initialBlocks);\r\n        }\r\n    }, [data]);\r\n\r\n    const updateBlock = useCallback((blockID: string, updatedData: Partial<EditorParsedBlock>, shouldNotDirty?: boolean) => {\r\n        setBlocks(prevBlocks => {\r\n            const newBlocks = new Map<string, EditorParsedBlock>(prevBlocks);\r\n            const blockToUpdate = newBlocks.get(blockID);\r\n\r\n            if (!blockToUpdate) return prevBlocks;\r\n\r\n\r\n            const newBlock = {\r\n                ...blockToUpdate,\r\n                ...updatedData,\r\n                value: {\r\n                    ...blockToUpdate.value ?? {},\r\n                    ...updatedData.value ?? {}\r\n                }\r\n            }\r\n\r\n            newBlocks.set(blockID, newBlock);\r\n\r\n            return newBlocks;\r\n        });\r\n        if (!shouldNotDirty) setIsDirty(true);\r\n    }, [setBlocks]);\r\n\r\n    useEffect(() => {\r\n        const blocksThatShouldHaveFocusWithin: string[] = [];\r\n\r\n        if (activeBlock) {\r\n            \r\n            // find all blocks that should have focus within\r\n            const activeBlockParent = blocks.get(activeBlock)?.parentID;\r\n            let nParentBlock: EditorParsedBlock | undefined = activeBlockParent ? blocks.get(activeBlockParent) : undefined;\r\n            while (nParentBlock) {\r\n                blocksThatShouldHaveFocusWithin.push(nParentBlock.blockID);\r\n                nParentBlock = nParentBlock.parentID ? blocks.get(nParentBlock.parentID) : undefined;\r\n            }\r\n        }\r\n\r\n        // update necessary blocks to have focus within\r\n        blocks.forEach((block) => {\r\n            if (blocksThatShouldHaveFocusWithin.includes(block.blockID)) {\r\n                if (!block.hasFocusWithin) updateBlock(block.blockID, { hasFocusWithin: true }, true)\r\n            } else {\r\n                if (block.hasFocusWithin) updateBlock(block.blockID, { hasFocusWithin: false }, true)\r\n            }\r\n        });\r\n    }, [blocks, activeBlock, updateBlock]);\r\n\r\n    const addBlock = useCallback((type: BlockType['type'], args?: { parentID?: string, position?: 'after' | 'before', reference?: string }) => {\r\n        const blockID = genBlockID();\r\n        const { parentID, position, reference } = args ?? {};\r\n\r\n        setBlocks(prevBlocks => {\r\n            const newBlocksArray = Array.from(prevBlocks);\r\n\r\n            let insertIndex = newBlocksArray.length;\r\n            if (reference) {\r\n                insertIndex = newBlocksArray.findIndex(([id]) => id === reference);\r\n                if (position === 'after') insertIndex += 1;\r\n            }\r\n\r\n            newBlocksArray.splice(insertIndex, 0, [\r\n                blockID, {\r\n                    type,\r\n                    value: type in availableBlocks ? availableBlocks[type]?.defaultValue : undefined,\r\n                    blockID,\r\n                    parentID,\r\n                    children: availableBlocks[type]?.acceptChildren ? [] : undefined\r\n                }]);\r\n\r\n            // When parentID is provided, we insert the new block as a child of that parent\r\n            if (parentID) {\r\n                const parentBlock = newBlocksArray.find(([id]) => id === parentID)?.[1];\r\n                if (parentBlock && Array.isArray(parentBlock.children)) {\r\n\r\n                    if (!parentBlock.children.includes(blockID)) {\r\n                        let childrenInsertIndex = parentBlock.children.length;\r\n                        if (reference) {\r\n                            childrenInsertIndex = parentBlock.children.findIndex(id => id === reference);\r\n                            if (position === 'after') childrenInsertIndex += 1;\r\n                        }\r\n                        parentBlock.children.splice(childrenInsertIndex, 0, blockID);\r\n                    }\r\n                }\r\n            }\r\n            return new Map(newBlocksArray);\r\n        });\r\n        setActiveBlock(blockID);\r\n        setIsDirty(true);\r\n    }, []);\r\n\r\n    const deleteBlock = useCallback((blockID: string) => {\r\n        let newSelectedBlock: string | null = null;\r\n\r\n        setBlocks(prevBlock => {\r\n            const newBlocks = new Map(prevBlock);\r\n            const blockToDelete = newBlocks.get(blockID);\r\n\r\n            if (!blockToDelete) return newBlocks;\r\n\r\n            if (blockToDelete?.parentID) newSelectedBlock = blockToDelete.parentID;\r\n\r\n            const IDsToDelete: string[] = []\r\n\r\n            const getChildrenIDsRecursive = (bID: string) => {\r\n                const b = newBlocks.get(bID);\r\n                if (b && b.children && Array.isArray(b.children)) {\r\n                    for (const childID of b.children) {\r\n                        getChildrenIDsRecursive(childID);\r\n                    }\r\n                }\r\n                IDsToDelete.push(bID);\r\n            }\r\n\r\n            const deleteInParentChildren = () => {\r\n                if (blockToDelete && blockToDelete.parentID) {\r\n                    const parentBlock = newBlocks.get(blockToDelete.parentID);\r\n                    if (parentBlock && parentBlock.children) {\r\n                        parentBlock.children = parentBlock.children.filter(childID => childID !== blockID);\r\n                    }\r\n                }\r\n            }\r\n\r\n            const deleteBlockWithchildren = () => {\r\n                getChildrenIDsRecursive(blockID);\r\n                deleteInParentChildren();\r\n                IDsToDelete.forEach(ID => newBlocks.delete(ID))\r\n            }\r\n\r\n\r\n\r\n            deleteBlockWithchildren();\r\n\r\n            return newBlocks;\r\n        });\r\n        setActiveBlock(newSelectedBlock);\r\n        setIsDirty(true);\r\n    }, []);\r\n\r\n\r\n    return (\r\n        <blockEditorContext.Provider value={{\r\n            blocks,\r\n            setBlocks,\r\n            isDirty,\r\n            setIsDirty,\r\n            addBlock,\r\n            updateBlock,\r\n            deleteBlock,\r\n            activeBlock,\r\n            setActiveBlock,\r\n            availableBlocks\r\n        }}>\r\n            {children}\r\n        </blockEditorContext.Provider>\r\n    )\r\n});\r\n\r\nBlocksEditorContextProvider.displayName = 'BlocksEditorContextProvider';\r\n\r\nexport const useEditor = () => useContext(blockEditorContext);\r\n","export const genBlockID = () => '_' + Math.random().toString(36).substr(2, 9);","import React from \"react\";\r\nimport { ChangeEvent, ComponentType, PropsWithChildren, useEffect, useRef, useState } from \"react\";\r\nimport { useEditor } from \"../context\";\r\nimport { BlockType, EditorParsedBlock } from \"../definitions\";\r\nimport { MdAlignHorizontalLeft, MdAlignHorizontalRight, MdAlignHorizontalCenter } from \"react-icons/md\";\r\nimport Button from \"../components/Button\";\r\nimport { BlockToolbar, BlockToolbarColumn } from \"../Block\";\r\nimport { FaImage } from \"react-icons/fa6\";\r\n\r\ntype ImageType = {\r\n    id?: number | string;\r\n    src: string;\r\n}\r\n\r\ntype ImageBlockType = BlockType<{\r\n    image?: ImageType,\r\n    aspect?: number | string,\r\n    size?: {\r\n        height: string | number,\r\n        width: string | number\r\n    },\r\n    align?: 'left' | 'right' | 'center'\r\n}>\r\n\r\nexport type ImageSelectorProps = PropsWithChildren<{\r\n    value?: ImageType,\r\n    onSelect?: (image?: ImageType, preview?: string) => void,\r\n    className?: string\r\n}>;\r\n\r\ntype ImageSelectorWrapperProps = PropsWithChildren<{\r\n    ImageSelector?: ComponentType<ImageSelectorProps>,\r\n    value: ImageSelectorProps['value'],\r\n    onSelect: ImageSelectorProps['onSelect'],\r\n    className?: string\r\n}>;\r\n\r\nconst DefaultImageSelector: React.FC<PropsWithChildren<ImageSelectorProps>> = ({ children, value, onSelect, className }) => {\r\n\r\n    const [currentImage, setCurrentImage] = useState<ImageType | undefined>(value);\r\n\r\n    const inputRef = useRef<HTMLInputElement>(null);\r\n\r\n    useEffect(() => {\r\n        if (onSelect && currentImage && currentImage.src !== value?.src) onSelect(currentImage);\r\n    }, [currentImage])\r\n\r\n    const handleImageclick = () => {\r\n        if (inputRef.current) {\r\n            inputRef.current.click();\r\n        }\r\n    }\r\n\r\n    const handleFileChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n        const file = e.target.files?.[0];\r\n        if (file) {\r\n            const reader = new FileReader(); // Create a new FileReader object\r\n\r\n            reader.onload = function (e) {\r\n                if (e.target?.result) {\r\n                    const dataUrl = e.target.result.toString();\r\n                    setCurrentImage({ src: dataUrl });\r\n                }\r\n            };\r\n\r\n            reader.readAsDataURL(file);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={className} onClick={handleImageclick}>\r\n            {children}\r\n            <input type=\"file\" hidden ref={inputRef} accept=\".jpg, .jpeg, .png\" onChange={handleFileChange} />\r\n        </div>\r\n    )\r\n}\r\n\r\nconst ImageSelectorWrapper: React.FC<ImageSelectorWrapperProps> = ({\r\n    children,\r\n    ImageSelector,\r\n    value,\r\n    onSelect,\r\n    className\r\n}) => {\r\n    if (ImageSelector) return (\r\n        <ImageSelector\r\n            value={value}\r\n            onSelect={onSelect}\r\n            className={className}\r\n        >\r\n            {children}\r\n        </ImageSelector>\r\n    );\r\n\r\n    return (\r\n        <DefaultImageSelector\r\n            value={value}\r\n            onSelect={onSelect}\r\n            className={className}\r\n        >\r\n            {children}\r\n        </DefaultImageSelector>\r\n    )\r\n}\r\n\r\nconst ImagePreview: React.FC<{ src?: string, aspect?: number | string, align?: \"left\" | \"right\" | \"center\" }> = ({ src, aspect, align }) => {\r\n\r\n    return (\r\n        <>\r\n            {src ?\r\n                <img\r\n                    className=\"sg-block__blockImage__img\"\r\n                    src={src}\r\n                    style={{\r\n                        aspectRatio: aspect,\r\n                        textAlign: align\r\n                    }}\r\n                    alt=\"Selected Image\"\r\n                /> :\r\n                <div className=\"sg-block__blockImage__placeholder\">\r\n                    <FaImage />\r\n                </div>\r\n            }\r\n        </>\r\n\r\n    )\r\n}\r\n\r\n/**\r\n * \r\n * Image Block\r\n * \r\n * \r\n */\r\nconst ImageBlock: React.FC<{ block: EditorParsedBlock<ImageBlockType>, isActive?: boolean, ImageSelector?: ComponentType<ImageSelectorProps> }> = ({ block, ImageSelector }) => {\r\n\r\n    const [imagePreview, setImagePreview] = useState<string | undefined>(block.value?.image?.src);\r\n\r\n    const { updateBlock } = useEditor();\r\n\r\n    const { blockID, value } = block;\r\n\r\n    const { image, aspect, height, align } = value ?? {};\r\n\r\n    const updateImageBlock = (newValue: Partial<ImageBlockType['value']>) => {\r\n        updateBlock(blockID, {\r\n            value: {\r\n                ...value,\r\n                ...newValue\r\n            }\r\n        })\r\n    };\r\n\r\n    const handleImageSelection = (newValue?: ImageType, imagePreviewSrc: string|undefined = undefined) => {\r\n        if (newValue) {\r\n            updateImageBlock({\r\n                image: {\r\n                    id: newValue.id,\r\n                    src: newValue.src\r\n                }\r\n            });\r\n            setImagePreview(imagePreviewSrc ?? newValue.src);\r\n        }\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (aspect && height !== 'auto') {\r\n            updateImageBlock({\r\n                aspect: undefined,\r\n            })\r\n        }\r\n    }, [height])\r\n\r\n    const aspects = ['auto', 'fill', 4 / 3, 3 / 2, 16 / 9, 1];\r\n    const aspectsLabels = ['original', 'Remplir', '4:3', '3:2', '16:9', '1:1'];\r\n\r\n    const aligns = ['left', 'center', 'right'];\r\n    const alignsIcons = [\r\n        <MdAlignHorizontalLeft key={\"alignLeft\"} />,\r\n        <MdAlignHorizontalCenter key={\"alignCenter\"} />,\r\n        <MdAlignHorizontalRight key={\"alignRight\"} />\r\n    ];\r\n\r\n    return (\r\n        <>\r\n            <BlockToolbar>\r\n                <BlockToolbarColumn\r\n                    title={'Aspect'}\r\n                >\r\n\r\n                    {\r\n                        aspects.map((value, index) => (\r\n                            <Button\r\n                                key={value}\r\n                                variant={aspect === value || (value === 'fill' && height === '100%') ? 'selected' : undefined}\r\n                                onClick={() => updateImageBlock({\r\n                                    aspect: aspect === value || value === 'fill' ? undefined : value,\r\n                                    height: value === 'fill' ? '100%' : 'auto'\r\n                                })}\r\n                            >\r\n                                {aspectsLabels[index]}\r\n                            </Button>\r\n                        ))\r\n                    }\r\n                </BlockToolbarColumn>\r\n                <BlockToolbarColumn\r\n                    title={'Alignement'}\r\n                >\r\n                    {\r\n                        aligns.map((value: string, index) => (\r\n                            <Button\r\n                                key={value}\r\n                                variant={align === value ? 'selected' : \"\"}\r\n                                onClick={() => updateImageBlock({ align: align === value ? undefined : value as \"left\"|'right'|'center' })}\r\n                            >\r\n                                {alignsIcons[index]}\r\n                            </Button>\r\n                        ))\r\n                    }\r\n                </BlockToolbarColumn>\r\n            </BlockToolbar>\r\n            <ImageSelectorWrapper\r\n                className=\"sg-block__blockImage__selectorWrapper\"\r\n                value={image}\r\n                onSelect={handleImageSelection}\r\n                ImageSelector={ImageSelector}\r\n            >\r\n\r\n                <ImagePreview src={imagePreview} align={align} aspect={aspect} />\r\n            </ImageSelectorWrapper>\r\n        </>\r\n\r\n    )\r\n\r\n}\r\n\r\nexport default ImageBlock;","import React, { MouseEventHandler, PropsWithChildren } from \"react\"\r\n\r\ntype ButtonProps = PropsWithChildren<{\r\n    className?: string,\r\n    variant?: string,\r\n    onClick?: MouseEventHandler<HTMLButtonElement>,\r\n    title?: string,\r\n    ariaLabel?: string, \r\n}>;\r\n\r\nconst Button: React.FC<ButtonProps> = ({ children, className, variant, onClick, ariaLabel, title }) => {\r\n    return (\r\n        <button\r\n            onClick={(e) => {e.preventDefault(); onClick?.(e);}}\r\n            aria-label={ariaLabel}\r\n            title={title}\r\n            className={`sg-block__btn${variant ? ' sg-block__btn--' + variant : ''}${className ? ' ' + className : ''}`}\r\n        >\r\n            {children}\r\n        </button>\r\n    )\r\n}\r\n\r\nexport default Button;","import clsx from \"clsx\";\r\nimport React, { createContext, Dispatch, MouseEventHandler, PropsWithChildren, ReactNode, useCallback, useContext, useEffect, useMemo, useRef, useState } from \"react\";\r\nimport { FaPlus } from \"react-icons/fa6\";\r\nimport { RiDeleteBin5Line } from \"react-icons/ri\";\r\nimport { addBlockMenuProps, EditorParsedBlock } from \"./definitions\";\r\nimport { useEditor } from \"./context\";\r\nimport * as DropdownMenu from \"@radix-ui/react-dropdown-menu\";\r\nimport { Resizable, ResizableProps } from \"re-resizable\";\r\nimport SpacingTool from \"./components/SpacingTool\";\r\n\r\nconst alignStyles = {\r\n    alignSelf: {\r\n        left: 'flex-start',\r\n        center: 'center',\r\n        right: 'flex-end',\r\n    },\r\n    margin: {\r\n        center: '0 auto',\r\n        right: '0 0 0 auto',\r\n        left: '0 auto 0 0',\r\n    }\r\n\r\n}\r\n\r\nexport const AddBlockContextMenu: React.FC<addBlockMenuProps> = ({ className, children, args }) => {\r\n    const { addBlock, availableBlocks } = useEditor();\r\n\r\n    return (\r\n        <div className={clsx(\r\n            className\r\n        )}>\r\n            <DropdownMenu.Root>\r\n                <DropdownMenu.Trigger asChild>\r\n                    {children}\r\n                </DropdownMenu.Trigger>\r\n                <DropdownMenu.Content\r\n                    sideOffset={0}\r\n                    align=\"center\"\r\n                    className=\"sg-block__addMenu__content\"\r\n                >\r\n                    <DropdownMenu.Label\r\n                        className=\"sg-block__addMenu__label\"\r\n                    >\r\n                        Choisir un type\r\n                    </DropdownMenu.Label>\r\n                    {\r\n                        Object.values(availableBlocks).map((block) => {\r\n                            const Icon = block.icon;\r\n                            return (\r\n                                <DropdownMenu.Item\r\n                                    key={block.type}\r\n                                    onClick={() => addBlock(block.type, args)}\r\n                                    className=\"sg-block__addMenu__item\"\r\n                                >\r\n                                    {!!Icon && <Icon style={{ marginRight: '4px' }} />}\r\n                                    {block.name}\r\n                                </DropdownMenu.Item>\r\n                            )\r\n                        })\r\n                    }\r\n                </DropdownMenu.Content>\r\n            </DropdownMenu.Root>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst toolbarContext = createContext<[\r\n    ReactNode,\r\n    Dispatch<React.SetStateAction<React.ReactNode>>\r\n]>([\r\n    null,\r\n    () => {\r\n        throw new Error(\"Toolbar must be wrapped in context provider\")\r\n    }\r\n]);\r\n\r\nconst BlockToolbarProvider: React.FC<PropsWithChildren> = ({ children }) => {\r\n    const [toolbar, setToolbar] = useState<ReactNode>(null);\r\n    return (\r\n        <toolbarContext.Provider value={[toolbar, setToolbar]}>\r\n            {children}\r\n        </toolbarContext.Provider>\r\n    )\r\n}\r\n\r\nconst BlockToolbarRenderer: React.FC<{ position: 'top' | 'bottom', hasSpacingOptions?: boolean, block: EditorParsedBlock }> = ({ position, hasSpacingOptions, block }) => {\r\n    const [toolbar] = useContext(toolbarContext);\r\n\r\n    const { updateBlock } = useEditor();\r\n\r\n    const handleChangeSpacings = useCallback((spacingsValue: Record<string, string>) => {\r\n        updateBlock(blockID, {\r\n            value: {\r\n                spacings: spacingsValue\r\n            }\r\n        });\r\n    }, [updateBlock, block.blockID]);\r\n\r\n    const { value, blockID } = block;\r\n    const { spacings } = value ?? {};\r\n\r\n\r\n    return (\r\n        <div className={`sg-block__block__toolbar${position === 'top' ? ' sg-block__block__toolbar--top' : ''}`}>\r\n            {toolbar ?? null}\r\n            {hasSpacingOptions && <SpacingTool value={spacings} onChange={handleChangeSpacings} />}\r\n        </div>\r\n    )\r\n}\r\n\r\nconst ResizableWrapper: React.FC<PropsWithChildren<{ isResizable: boolean } & ResizableProps>> = ({ isResizable, children, ...props }) => {\r\n    return (\r\n        <Resizable\r\n            enable={props.enable || (isResizable ? undefined : false)}\r\n            className={props.className}\r\n            maxWidth={`100%`}\r\n            handleClasses={{\r\n                right: 'sg-block__block__resizeHandle sg-block__block__resizeHandle--right',\r\n                left: 'sg-block__block__resizeHandle sg-block__block__resizeHandle--left',\r\n                top: 'sg-block__block__resizeHandle sg-block__block__resizeHandle--top',\r\n                bottom: 'sg-block__block__resizeHandle sg-block__block__resizeHandle--bottom',\r\n\r\n            }}\r\n            size={{\r\n                width: props.size?.width || '100%',\r\n                height: props.size?.height || 'auto',\r\n            }}\r\n            style={props.style}\r\n            onResizeStop={props.onResizeStop}\r\n            onResize={props.onResize}\r\n            onResizeStart={props.onResizeStart}\r\n        >\r\n            {children}\r\n        </Resizable>\r\n    )\r\n}\r\n\r\nexport const BlockToolbar: React.FC<PropsWithChildren> = ({ children }) => {\r\n    const [, setToolbar] = useContext(toolbarContext);\r\n\r\n    useEffect(() => {\r\n        setToolbar(children);\r\n\r\n        return () => {\r\n            setToolbar(null);\r\n        };\r\n    }, [children]);\r\n\r\n    return null;\r\n}\r\n\r\nexport const BlockToolbarColumn: React.FC<PropsWithChildren<{ title: string }>> = ({ children, title }) => {\r\n    return (\r\n        <div>\r\n            <p className=\"sg-block__block__toolbar__column__title\"><b>{title}</b></p>\r\n            <div className=\"sg-block__block__toolbar__column\">\r\n                {children}\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nconst Block: React.FC<{ block: EditorParsedBlock | undefined, className?: string, horizontalFlow?: boolean }> = ({ block, className, horizontalFlow }) => {\r\n    const [toolbarPosition, setToolbarPosition] = useState<'bottom' | 'top'>('bottom');\r\n\r\n    const { blocks, activeBlock, setActiveBlock, deleteBlock, availableBlocks, updateBlock } = useEditor();\r\n\r\n    const blockRef = useRef<HTMLDivElement | null>(null);\r\n\r\n    const { blockID, hasFocusWithin, parentID, type, value } = block ?? {};\r\n\r\n    const isActive = blockID === activeBlock;\r\n\r\n    const { isResizable, hasSpacingOptions, BlockEditorElement } = useMemo(() => {\r\n        if(!type) return {}\r\n        return {\r\n            isResizable: availableBlocks[type]?.isResizable || false,\r\n            hasSpacingOptions: !!availableBlocks[type]?.hasSpacingOptions,\r\n            BlockEditorElement: availableBlocks[type]?.editor\r\n        }\r\n    }, [availableBlocks, parentID]);\r\n\r\n    const scrollHandler = useCallback(() => {\r\n        const { top, bottom } = blockRef.current?.getBoundingClientRect() ?? {};\r\n        if (bottom !== undefined && top !== undefined) {\r\n            setToolbarPosition(window.innerHeight - bottom > top ? 'bottom' : 'top');\r\n        }\r\n    }, [blockRef, setToolbarPosition])\r\n\r\n    useEffect(() => {\r\n        if (blockRef.current) {\r\n            if (isActive) {\r\n                scrollHandler();\r\n                window.addEventListener('scroll', scrollHandler, true);\r\n                blockRef.current.focus();\r\n            } else {\r\n                window.removeEventListener('scroll', scrollHandler, true);\r\n            }\r\n        }\r\n\r\n        return () => window.removeEventListener('scroll', scrollHandler, true);\r\n\r\n    }, [isActive, blockRef]);\r\n\r\n    const handleClickCapture: MouseEventHandler<HTMLDivElement> = useCallback((e) => {\r\n        if (activeBlock !== blockID && !hasFocusWithin) {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n\r\n            setActiveBlock(blockID ?? null);\r\n        }\r\n    }, [activeBlock, hasFocusWithin, blockID, setActiveBlock]);\r\n\r\n    if (!block) return null;\r\n\r\n    if (!blockID) return null;\r\n\r\n    if (!BlockEditorElement) return null;\r\n\r\n    return (\r\n        <BlockToolbarProvider>\r\n            <div\r\n                ref={blockRef}\r\n                style={{\r\n                    display: 'contents'\r\n                }}\r\n\r\n                onClickCapture={handleClickCapture}\r\n            >\r\n\r\n                <ResizableWrapper\r\n                    isResizable={!!isResizable && isActive}\r\n                    size={{\r\n                        width: isResizable && value?.width ? value?.width : '100%',\r\n                        height: isResizable && value?.height ? value?.height : 'auto',\r\n                    }}\r\n                    enable={\r\n                        isActive && typeof isResizable === 'object' ? isResizable : undefined\r\n                    }\r\n\r\n                    onResizeStop={(e, dir, ref, d) => {\r\n                        const containerWidth = ref.parentElement?.parentElement?.clientWidth;\r\n                        const newWidth = ref.offsetWidth;\r\n                        const newHeight = ref.offsetHeight;\r\n\r\n                        updateBlock(blockID, {\r\n                            value: {\r\n                                width: newWidth === containerWidth ? '100%' : d.width !== 0 ? newWidth + 'px' : value?.width,\r\n                                height: d.height !== 0 ? newHeight + 'px' : value?.height,\r\n                            }\r\n                        });\r\n                    }}\r\n\r\n                    style={{\r\n                        alignSelf: value?.align ? alignStyles.alignSelf[value.align as 'left'|'right'|'center'] : undefined,\r\n                        margin: value?.align ? alignStyles.margin[value.align as 'left'|'right'|'center']: undefined,\r\n                        paddingTop: value?.spacings?.top,\r\n                        paddingBottom: value?.spacings?.bottom,\r\n                        paddingLeft: value?.spacings?.left,\r\n                        paddingRight: value?.spacings?.right\r\n                    }}\r\n                    className={clsx(\r\n                        'sg-block__block',\r\n                        !hasFocusWithin && !activeBlock && (!parentID || blocks.get(parentID)?.hasFocusWithin) ? 'sg-block__block--hover' : '',\r\n                        isActive ? 'sg-block__block--active' : '',\r\n                        (!hasFocusWithin && !isActive && activeBlock) && 'sg-block__block--inactive',\r\n                        className\r\n                    )}\r\n\r\n\r\n                >\r\n                    {isActive &&\r\n                        <>\r\n                            <AddBlockContextMenu\r\n                                args={{ position: 'before', reference: blockID, parentID }}\r\n                                className=\"sg-block__contextMenu\"\r\n                            >\r\n                                <button\r\n                                    title=\"Ajouter un élément avant le bloc actif\"\r\n                                    aria-label=\"Ajotuer un élément avant le bloc actif\"\r\n                                    className={`sg-block__btn__addBlock sg-block__btn__addBlock--${horizontalFlow ? 'left' : 'top'}`}\r\n                                >\r\n                                    <FaPlus />\r\n                                </button>\r\n                            </AddBlockContextMenu>\r\n\r\n\r\n                        </>\r\n                    }\r\n\r\n                    <BlockEditorElement block={block} isActive={isActive} />\r\n                    {isActive && <BlockToolbarRenderer position={toolbarPosition} hasSpacingOptions={hasSpacingOptions} block={block} />}\r\n\r\n                    {isActive &&\r\n                        <>\r\n                            <button\r\n                                className=\"sg-block__btn sg-block__btn--square sg-block__btn__deleteBlock\"\r\n                                onClick={() => deleteBlock(blockID)}\r\n                                aria-label={\"Supprimer le block actif: \" + type}\r\n                                title={\"Supprimer le block actif: \" + type}\r\n                            >\r\n                                <RiDeleteBin5Line />\r\n                            </button>\r\n                            <AddBlockContextMenu\r\n                                args={{ position: 'after', reference: blockID, parentID }}\r\n                                className=\"sg-block__contextMenu\"\r\n                            >\r\n                                <button\r\n                                    title=\"Ajouter un élément après le bloc actif\"\r\n                                    aria-label=\"Ajouter un élément après le bloc actif\"\r\n                                    className={`sg-block__btn__addBlock sg-block__btn__addBlock--${horizontalFlow ? 'right' : 'bottom'}`}\r\n                                >\r\n                                    <FaPlus />\r\n                                </button>\r\n                            </AddBlockContextMenu>\r\n                        </>\r\n                    }\r\n                </ResizableWrapper>\r\n            </div>\r\n        </BlockToolbarProvider>\r\n    )\r\n}\r\n\r\nexport default Block;","import React, { KeyboardEvent, useRef, useState } from \"react\";\r\n\r\ntype SpacingToolState = {\r\n    [key: string]: any;\r\n    left?: string;\r\n    right?: string;\r\n    bottom?: string;\r\n    top?: string;\r\n}\r\n\r\ntype SpacingToolProps = {\r\n    value?: SpacingToolState,\r\n    onChange?: (value: SpacingToolState) => void,\r\n}\r\n\r\nconst SpacingTool: React.FC<SpacingToolProps> = ({ value, onChange }) => {\r\n\r\n    const [spacings, setSpacings] = useState<SpacingToolState>(value ?? {});\r\n    const directions = [\r\n        'left',\r\n        'right',\r\n        'bottom',\r\n        'top'\r\n    ]\r\n\r\n    const spacingToolRef = useRef<HTMLDivElement>(null);\r\n\r\n    const handleChange = (direction: typeof directions[number], value: string) => {\r\n        const newSpacings = {\r\n            ...spacings, [direction]: value\r\n        }\r\n        setSpacings(newSpacings);\r\n    }\r\n\r\n    const handleKeyDown = (e: KeyboardEvent<HTMLInputElement>) => {\r\n        if (e.key === \"Enter\") {\r\n            spacingToolRef.current?.querySelectorAll('input').forEach((el) => {\r\n                el.blur();\r\n            });\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <p><b>Marges</b></p>\r\n            <div className=\"sg-block__SpacingTool\" ref={spacingToolRef}>\r\n\r\n                {directions.map((direction) => {\r\n                    return (\r\n                        <div\r\n                            key={direction}\r\n                            className={`sg-block__SpacingTool__${direction}`}\r\n                        >\r\n                            <input\r\n                                type=\"text\"\r\n                                onChange={(e) => handleChange(direction, e.target.value)}\r\n                                onBlur={() => onChange?.(spacings)}\r\n                                onKeyDown={(e) => handleKeyDown(e)}\r\n                                value={spacings[direction] ?? '0px'}\r\n                            />\r\n                        </div>\r\n                    )\r\n                })\r\n                }\r\n                <div className=\"sg-block__SpacingTool__center\" />\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default SpacingTool;","import ImageBlock from \"./blocks/ImageBlock\";\r\nimport { FaRegImage } from \"react-icons/fa6\";\r\nimport { FaAlignJustify } from \"react-icons/fa6\";\r\nimport { RxGroup } from \"react-icons/rx\";\r\nimport TextBlock from \"./blocks/TextBlock\";\r\nimport RowBlock from \"./blocks/GroupBlock\";\r\nimport { EditorBlock } from \"./definitions\";\r\n\r\nexport default {\r\n    text: {\r\n        name: 'Text',\r\n        type: 'text',\r\n        icon: FaAlignJustify,\r\n        render: (value) => { return (value as { htmlContent: string }).htmlContent },\r\n        editor: TextBlock,\r\n        defaultValue: {\r\n            htmlContent: '<p>Nouveau Bloc de Texte</p>'\r\n        },\r\n        isResizable: {\r\n            right: true,\r\n            left: true,\r\n            top: false,\r\n            bottom: false,\r\n            bottomLeft: false,\r\n            bottomRight: false,\r\n            topLeft: false,\r\n            topRight: false\r\n        },\r\n        hasSpacingOptions: true\r\n    },\r\n    image: {\r\n        name: 'Image',\r\n        type: 'image',\r\n        icon: FaRegImage,\r\n        render: undefined,\r\n        editor: ImageBlock,\r\n        isResizable: true,\r\n        hasSpacingOptions: true\r\n    },\r\n    group: {\r\n        name: 'Group',\r\n        type: 'group',\r\n        icon: RxGroup,\r\n        render: undefined,\r\n        editor: RowBlock,\r\n        acceptChildren: true,\r\n        isResizable: false,\r\n        defaultValue: {\r\n            flow: 'horizontal'\r\n        },\r\n        hasSpacingOptions: true\r\n    }\r\n} as { [key: string]: EditorBlock }","import React, { RefObject } from \"react\";\r\nimport clsx from \"clsx\";\r\nimport { useCallback, useEffect, useRef } from \"react\";\r\nimport { BlockType, EditorParsedBlock } from \"../definitions\";\r\nimport { useEditor } from \"../context\";\r\n\r\nimport TextIgniter from \"../../lib/text-module/component/src/components/TextIgniter\";\r\n\r\ntype TextBlockType = BlockType<{\r\n    htmlContent: string;\r\n}>\r\n\r\nconst TextBlock: React.FC<{ block: EditorParsedBlock<TextBlockType>, isActive?: boolean }> = ({ block, isActive }) => {\r\n\r\n    // define text editor features\r\n    const features = [\r\n        \"heading\",\r\n        \"bold\",\r\n        \"italic\",\r\n        \"underline\",\r\n        \"unorderedList\",\r\n        \"justifyLeft\",\r\n        \"justifyCenter\",\r\n        \"justifyRight\",\r\n        \"createLink\",\r\n    ];\r\n\r\n    const { updateBlock } = useEditor();\r\n\r\n    const { blockID, value } = block;\r\n\r\n    const { htmlContent } = value ?? {};\r\n\r\n    const editorRef = useRef<{editorRef: RefObject<HTMLDivElement>|undefined }|null>(null);\r\n\r\n    useEffect(() => {\r\n        if(editorRef.current?.editorRef?.current && isActive) {\r\n            editorRef.current.editorRef.current.focus();        \r\n        }\r\n    }, [isActive])\r\n\r\n    useEffect(() => {\r\n        if(editorRef.current?.editorRef?.current) {\r\n            const preventDefault = (e: Event) => e.preventDefault();\r\n            editorRef.current.editorRef.current.addEventListener(\"dragover\", preventDefault);\r\n            editorRef.current.editorRef.current.addEventListener(\"drop\", preventDefault);\r\n\r\n            return () => {\r\n                editorRef.current?.editorRef?.current?.removeEventListener(\"dragover\", preventDefault);\r\n                editorRef.current?.editorRef?.current?.removeEventListener(\"drop\", preventDefault);\r\n            }\r\n\r\n        }\r\n    }, [editorRef.current])\r\n\r\n    const handleChange = useCallback((val: string) => {\r\n        updateBlock(blockID, {\r\n            value: {\r\n                htmlContent: val\r\n            }\r\n        })\r\n    }, [blockID, updateBlock]);\r\n\r\n    return (\r\n        <>\r\n            <div className={clsx(\r\n                \"sg-block__blockText\",\r\n                isActive && \"sg-block__blockText--active\"\r\n            )}>\r\n                <TextIgniter\r\n                    ref={editorRef}\r\n                    //@ts-expect-error js ignore\r\n                    onChange={handleChange}\r\n                    defaultContent={htmlContent}\r\n                    features={features}\r\n                    height={\"100%\"}\r\n                />\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default TextBlock;","/* eslint-disable react/display-name */\nimport React, { useImperativeHandle, forwardRef, useEffect } from 'react';\nimport { EditorProvider, useEditor } from '../../contexts/editorContext.jsx';\nimport Toolbar from './Toolbar.jsx';\nimport Editor from './Editor.jsx';\nimport '../../styles/text-igniter.css';\n\nconst TextIgniterContent = forwardRef(\n  ({ features, height, onChange, defaultContent }, ref) => {\n    const { getHtml, getJson, html, editorRef } = useEditor();\n\n    useImperativeHandle(ref, () => ({\n      getHtml,\n      getJson,\n      html,\n      editorRef,\n    }));\n\n    useEffect(() => {\n      if (editorRef?.current && !!defaultContent) {\n        editorRef.current.innerHTML = defaultContent;\n      }\n    }, []);\n\n    useEffect(() => {\n      html !== null && onChange && typeof onChange === 'function'\n        ? onChange(html)\n        : undefined;\n    }, [html, onChange]);\n\n    return (\n      <div className=\"sg-text__editor-container\">\n        <Toolbar features={features} />\n        <Editor height={height} />\n      </div>\n    );\n  },\n);\n\nconst TextIgniter = forwardRef((props, ref) => (\n  <EditorProvider>\n    <TextIgniterContent {...props} ref={ref} />\n  </EditorProvider>\n));\n\nexport default TextIgniter;\n","import React, { createContext, useContext, useRef, useCallback } from 'react';\nimport { useEditorFormatting } from '../hooks/useEditorFormatting.jsx';\nimport { useEditorState } from '../hooks/useEditorState.jsx';\nimport { useTableOperations } from '../hooks/useTableOperation.jsx';\nimport { useHeadingState } from '../hooks/useHeadingState.jsx';\nconst EditorContext = createContext();\n\nexport const EditorProvider = ({ children }) => {\n  const editorRef = useRef(null);\n\n  const {\n    formatText,\n    updateDataAttributes,\n    addImageOrVideo,\n    addLink,\n    activeStyles,\n    applyHeading,\n  } = useEditorFormatting(editorRef);\n\n  const state = useEditorState(editorRef, updateDataAttributes);\n  const { insertTable, addTableRow, addTableColumn, insertLayout } =\n    useTableOperations(editorRef);\n  const headingState = useHeadingState();\n\n  const getHtml = useCallback(() => {\n    return editorRef.current ? editorRef.current.innerHTML : '';\n  }, [editorRef]);\n\n  const getJson = useCallback(() => {\n    if (!editorRef.current) return null;\n\n    const parseNode = (node) => {\n      if (node.nodeType === Node.TEXT_NODE) {\n        return node.textContent;\n      }\n\n      const result = {\n        type: node.nodeName.toLowerCase(),\n        attributes: {},\n        children: [],\n      };\n\n      // Parse attributes\n      for (let i = 0; i < node.attributes.length; i++) {\n        const attr = node.attributes[i];\n        result.attributes[attr.name] = attr.value;\n      }\n\n      // Parse children\n      node.childNodes.forEach((child) => {\n        result.children.push(parseNode(child));\n      });\n\n      return result;\n    };\n\n    return parseNode(editorRef.current);\n  }, []);\n\n  const editorValue = {\n    ...state,\n    ...headingState,\n    applyHeading,\n    formatText,\n    editorRef,\n    addImageOrVideo,\n    addLink,\n    insertTable,\n    addTableRow,\n    addTableColumn,\n    insertLayout,\n    activeStyles,\n    getHtml,\n    getJson,\n  };\n\n  return (\n    <EditorContext.Provider value={editorValue}>\n      {children}\n    </EditorContext.Provider>\n  );\n};\n\nexport const useEditor = () => useContext(EditorContext);\n","import { useCallback, useState, useEffect } from 'react';\n\nexport const useEditorFormatting = (editorRef) => {\n  const [activeStyles, setActiveStyles] = useState(['justifyLeft']); // Set initial justifyLeft\n\n  const updateDataAttributes = useCallback((element) => {\n    const styles = window.getComputedStyle(element);\n    const dataType = [];\n\n    if (styles.fontWeight === 'bold' || parseInt(styles.fontWeight) >= 600)\n      dataType.push('bold');\n    if (styles.fontStyle === 'italic') dataType.push('italic');\n    if (styles.textDecoration.includes('underline')) dataType.push('underline');\n    if (styles.textAlign === 'left') dataType.push('justifyLeft');\n    if (styles.textAlign === 'center') dataType.push('justifyCenter');\n    if (styles.textAlign === 'right') dataType.push('justifyRight');\n\n    element.setAttribute('data-type', dataType.join('-') || 'normal');\n  }, []);\n\n  const updateActiveStyles = useCallback(() => {\n    const editor = editorRef.current;\n    if (editor) {\n      const styles = new Set();\n      const selection = window.getSelection();\n\n      if (selection.rangeCount > 0) {\n        const range = selection.getRangeAt(0);\n        const parentElement =\n          range.commonAncestorContainer.nodeType === Node.TEXT_NODE\n            ? range.commonAncestorContainer.parentElement\n            : range.commonAncestorContainer;\n\n        const computedStyle = window.getComputedStyle(parentElement);\n\n        const fontWeight = computedStyle.fontWeight;\n        const fontStyle = computedStyle.fontStyle;\n        const textDecoration = computedStyle.textDecoration;\n        console.log(textDecoration)\n\n        // Check text formatting\n        if (fontWeight === '700') styles.add('bold');\n        if (fontStyle === 'italic') styles.add('italic');\n        if (textDecoration.indexOf('underline') !== -1) styles.add('underline');\n        console.log(styles)\n        let node = parentElement;\n        while (node && node !== document) {\n          if (node.tagName === 'OL') {\n            styles.add('orderedList');\n          }\n          if (node.tagName === 'UL') {\n            styles.add('unorderedList');\n          }\n          if (node.tagName === 'SUP') {\n            styles.add('superscript');\n          }\n          if (node.tagName === 'SUB') {\n            styles.add('subscript');\n          }\n          node = node.parentNode;\n        }\n\n        // Check justification (only one can be active)\n        const textAlign = computedStyle.textAlign;\n        if (textAlign === 'left' || textAlign === 'start') {\n          styles.add('justifyLeft');\n        } else if (textAlign === 'center') {\n          styles.add('justifyCenter');\n        } else if (textAlign === 'right') {\n          styles.add('justifyRight');\n        }\n      }\n\n      setActiveStyles(Array.from(styles));\n    }\n  }, [editorRef]);\n\n  const formatText = useCallback(\n    (command, value = null) => {\n      const editor = editorRef.current;\n      if (editor) {\n        if (command.startsWith('justify')) {\n          // Remove all justify styles before applying the new one\n          ['justifyLeft', 'justifyCenter', 'justifyRight'].forEach((style) => {\n            if (style !== command) {\n              document.execCommand(style, false, null);\n            }\n          });\n        } else if (\n          command === 'insertOrderedList' ||\n          command === 'insertUnorderedList'\n        ) {\n          // Remove the other list style before applying the new one\n          const otherListCommand =\n            command === 'insertOrderedList'\n              ? 'insertUnorderedList'\n              : 'insertOrderedList';\n          if (document.queryCommandState(otherListCommand)) {\n            document.execCommand(otherListCommand, false, null);\n          }\n        } else if (command === 'superscript' || command === 'subscript') {\n          // Remove the other script style before applying the new one\n          const otherScriptCommand =\n            command === 'superscript' ? 'subscript' : 'superscript';\n          if (document.queryCommandState(otherScriptCommand)) {\n            document.execCommand(otherScriptCommand, false, null);\n          }\n        }\n\n        document.execCommand(command, false, value);\n        updateActiveStyles();\n        editor.dispatchEvent(new Event('change'));\n      }\n    },\n    [editorRef, updateActiveStyles],\n  );\n\n  const addImageOrVideo = useCallback(\n    (file, fileUrl) => {\n      const editor = editorRef.current;\n      if (editor) {\n        let element;\n        if (file) {\n          const reader = new FileReader();\n          reader.onload = (e) => {\n            if (file.type.startsWith('image/')) {\n              element = document.createElement('img');\n              element.src = e.target.result;\n              element.alt = file.name;\n            } else if (file.type.startsWith('video/')) {\n              element = document.createElement('video');\n              element.src = e.target.result;\n              element.controls = true;\n            }\n            editor.appendChild(element);\n            editor.appendChild(document.createElement('br'));\n            updateActiveStyles();\n          };\n          reader.readAsDataURL(file);\n        } else if (fileUrl) {\n          if (fileUrl.match(/\\.(jpeg|jpg|gif|png)$/)) {\n            element = document.createElement('img');\n            element.src = fileUrl;\n            element.alt = 'Inserted image';\n          } else if (fileUrl.match(/\\.(mp4|webm|ogg)$/)) {\n            element = document.createElement('video');\n            element.src = fileUrl;\n            element.controls = true;\n          }\n          editor.appendChild(element);\n          editor.appendChild(document.createElement('br'));\n          updateActiveStyles();\n        }\n      }\n    },\n    [editorRef, updateActiveStyles],\n  );\n\n  const addLink = useCallback(\n    (linkText, linkUrl, range = null) => {\n      const editor = editorRef.current;\n      const selection = window.getSelection();\n      if (editor) {\n        // Focus the editor to ensure the link is inserted at the right position\n        editor.focus();\n\n        // Create an anchor element instead of button\n        const linkElement = document.createElement('a');\n        linkElement.textContent = linkText;\n        linkElement.href = linkUrl;\n        linkElement.rel = 'noopener noreferrer'; // Prevent security issues\n        linkElement.className = 'sg-link';\n        if (range) {\n          range.deleteContents();\n          range.insertNode(linkElement);\n          range.setStartAfter(linkElement);\n          range.setEndAfter(linkElement);\n          selection.removeAllRanges();\n          selection.addRange(range);\n        } else {\n          editor.appendChild(linkElement);\n        }\n        updateActiveStyles();\n      }\n    },\n    [editorRef, updateActiveStyles],\n  );\n\n  const applyHeading = useCallback(\n    (heading) => {\n      const editor = editorRef.current;\n      if (editor) {\n        // Use execCommand to change the format block to the specified heading\n        document.execCommand('formatBlock', false, heading);\n\n        // Update active styles to reflect the changes\n        updateActiveStyles();\n      }\n    },\n    [editorRef, updateActiveStyles],\n  );\n\n  useEffect(() => {\n    const editor = editorRef.current;\n    if (editor) {\n      // Handle link clicks to open them in a new tab\n      const handleLinkClick = (e) => {\n        const target = e.target;\n        // The element that was clicked is checked to see if it’s an <a> (anchor) tag.\n        if (target.tagName === 'A') {\n          e.preventDefault(); // Prevent default editing behavior\n          window.open(target.href, '_blank', 'noopener,noreferrer'); // Open the link in a new tab\n        }\n      };\n\n      editor.addEventListener('keyup', updateActiveStyles);\n      editor.addEventListener('mouseup', updateActiveStyles);\n      // Attach the click event listener to the editor for anchor elements\n      editor.addEventListener('click', handleLinkClick);\n\n      // Cleanup event listeners when the component unmounts or the editor changes\n      return () => {\n        editor.removeEventListener('keyup', updateActiveStyles);\n        editor.removeEventListener('mouseup', updateActiveStyles);\n        editor.removeEventListener('click', handleLinkClick);\n      };\n    }\n  }, [editorRef, updateActiveStyles]);\n\n  return {\n    formatText,\n    updateDataAttributes,\n    addImageOrVideo,\n    addLink,\n    applyHeading,\n    activeStyles,\n  };\n};\n","import { useReducer, useEffect } from 'react';\n\nconst initialState = { wordCount: 0, charCount: 0, html: null };\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'SET_COUNTS':\n      return {\n        ...state,\n        wordCount: action.wordCount,\n        charCount: action.charCount,\n      };\n    case 'UPDATE_HTML':\n      return {\n        ...state,\n        html: action.html,\n      };\n    default:\n      return state;\n  }\n};\n\nexport const useEditorState = (editorRef, updateDataAttributes) => {\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  useEffect(() => {\n    const editor = editorRef.current;\n    let editorChangedHtml = state.html;\n\n    const handleInput = () => {\n      const text = editor.innerText || '';\n      const words = text\n        .trim()\n        .split(/\\s+/)\n        .filter((word) => word.length > 0);\n\n      dispatch({\n        type: 'SET_COUNTS',\n        wordCount: words.length,\n        charCount: text.length,\n      });\n\n      updateDataAttributes(editor);\n\n      handleChange();\n    };\n\n    const handleChange = () => {\n      const newHtml = editor.innerHTML || '';\n\n      if (editorChangedHtml !== newHtml) {\n        editorChangedHtml = newHtml;\n\n        dispatch({\n          type: 'UPDATE_HTML',\n          html: newHtml,\n        });\n      }\n    };\n\n    editor.addEventListener('input', handleInput);\n    editor.addEventListener('change', handleChange);\n\n    return () => {\n      editor.removeEventListener('input', handleInput);\n      editor.removeEventListener('change', handleChange);\n    };\n  }, [editorRef, updateDataAttributes]);\n\n  return state;\n};\n","import { useCallback } from 'react';\n\nexport const useTableOperations = (editorRef) => {\n  const insertTable = useCallback(\n    (rows = 2, cols = 2) => {\n      const editor = editorRef.current;\n      if (editor) {\n        const table = document.createElement('table');\n        table.style.width = '100%';\n        table.style.border = '1px solid #ccc';\n        table.style.borderCollapse = 'collapse';\n\n        for (let i = 0; i < rows; i++) {\n          const row = table.insertRow();\n          for (let j = 0; j < cols; j++) {\n            const cell = row.insertCell();\n            cell.style.border = '1px solid #ccc';\n            cell.style.padding = '5px';\n            cell.style.height = '30px';\n            cell.style.width = `${100 / cols}%`;\n            cell.contentEditable = true;\n          }\n        }\n\n        editor.appendChild(table);\n        editor.appendChild(document.createElement('br'));\n        editor.dispatchEvent(new Event('change'));\n      }\n    },\n    [editorRef],\n  );\n\n  const addTableRow = useCallback(() => {\n    const editor = editorRef.current;\n    if (editor) {\n      const table = editor.querySelector('table');\n      if (table) {\n        const newRow = table.insertRow();\n        const cellCount = table.rows[0].cells.length;\n        for (let i = 0; i < cellCount; i++) {\n          const cell = newRow.insertCell();\n          cell.style.border = '1px solid #ccc';\n          cell.style.padding = '5px';\n          cell.style.height = '30px';\n          cell.contentEditable = true;\n        }\n      }\n      editor.dispatchEvent(new Event('change'));\n    }\n  }, [editorRef]);\n\n  const addTableColumn = useCallback(() => {\n    const editor = editorRef.current;\n    if (editor) {\n      const table = editor.querySelector('table');\n      if (table) {\n        const rowCount = table.rows.length;\n        for (let i = 0; i < rowCount; i++) {\n          const cell = table.rows[i].insertCell();\n          cell.style.border = '1px solid #ccc';\n          cell.style.padding = '5px';\n          cell.style.height = '30px';\n          cell.contentEditable = true;\n        }\n        const cellCount = table.rows[0].cells.length;\n        for (let i = 0; i < rowCount; i++) {\n          for (let j = 0; j < cellCount; j++) {\n            table.rows[i].cells[j].style.width = `${100 / cellCount}%`;\n          }\n        }\n      }\n      editor.dispatchEvent(new Event('change'));\n    }\n  }, [editorRef]);\n\n  const insertLayout = useCallback(\n    (columns) => {\n      const editor = editorRef.current;\n      if (editor) {\n        const table = document.createElement('table');\n        table.className = 'layout-table';\n        table.style.width = '100%';\n        table.style.border = '1px solid #ccc';\n        table.style.borderCollapse = 'collapse';\n\n        const row = table.insertRow();\n        columns.forEach((colWidth) => {\n          const cell = row.insertCell();\n          cell.style.border = '1px solid #ccc';\n          cell.style.padding = '5px';\n          cell.style.height = '30px';\n          cell.style.width = `${colWidth}%`;\n          cell.contentEditable = true;\n        });\n\n        editor.appendChild(table);\n        editor.appendChild(document.createElement('br'));\n        editor.dispatchEvent(new Event('change'));\n      }\n    },\n    [editorRef],\n  );\n\n  return { insertTable, addTableRow, addTableColumn, insertLayout };\n};\n","import { useState, useCallback } from 'react';\n\nexport const useHeadingState = () => {\n  const [currentHeading, setCurrentHeading] = useState('p');\n\n  const changeHeading = useCallback((heading) => {\n    setCurrentHeading(heading);\n\n    // Use execCommand to change the format block to the specified heading\n    document.execCommand('formatBlock', false, heading);\n  }, []);\n\n  return { currentHeading, changeHeading };\n};\n","import React, { useState } from 'react';\nimport { useEditor } from '../../contexts/editorContext.jsx';\nimport * as Icons from '../../assets/icon.jsx';\nimport { IconButton } from '../ui/Button.jsx';\nimport { ImageUploadSelectionDialog, FileUrlDialog } from '../ui/Dialog.jsx';\nimport { IconDropDown } from '../ui/Dropdown.jsx';\nimport { usePreviewMode } from '../../hooks/usePreviewMode.jsx';\nconst Toolbar = ({ features }) => {\n  const {\n    formatText,\n    insertTable,\n    addTableRow,\n    addTableColumn,\n    insertLayout,\n    addImageOrVideo,\n    addLink,\n    activeStyles,\n    changeHeading,\n    applyHeading,\n  } = useEditor();\n\n  const { isToolbarVisible, toggleToolbarVisibility } = usePreviewMode();\n\n  const [isImageDialogOpen, setImageDialogOpen] = useState(false);\n  const [isUrlDialogOpen, setUrlDialogOpen] = useState(false);\n\n  const handleImageSubmit = ({ file, fileUrl }) => {\n    addImageOrVideo(file, fileUrl);\n  };\n  const handleHeadingChange = (e) => {\n    const heading = e;\n    changeHeading(heading);\n    applyHeading(heading);\n  };\n\n  const handleTableOperation = (operation) => {\n    switch (operation) {\n      case 'insert':\n        insertTable(2, 2);\n        break;\n      case 'addRow':\n        addTableRow();\n        break;\n      case 'addColumn':\n        addTableColumn();\n        break;\n      default:\n        break;\n    }\n  };\n\n  const handleLayoutOperation = (layout) => {\n    switch (layout) {\n      case 'single':\n        insertLayout([100]);\n        break;\n      case 'two-equal':\n        insertLayout([50, 50]);\n        break;\n      case 'three-equal':\n        insertLayout([33.33, 33.33, 33.33]);\n        break;\n      case '40-60':\n        insertLayout([40, 60]);\n        break;\n      case '60-40':\n        insertLayout([60, 40]);\n        break;\n      default:\n        break;\n    }\n  };\n\n  const getIsActive = (style) => activeStyles.includes(style);\n\n  const featureButtons = {\n    bold: (\n      <IconButton\n        onClick={() => formatText('bold')}\n        toolTip=\"Bold\"\n        isActive={getIsActive('bold')}\n      >\n        <Icons.BoldIcon />\n      </IconButton>\n    ),\n    italic: (\n      <IconButton\n        onClick={() => formatText('italic')}\n        toolTip=\"Italic\"\n        isActive={getIsActive('italic')}\n      >\n        <Icons.ItalicIcon />\n      </IconButton>\n    ),\n    underline: (\n      <IconButton\n        onClick={() => formatText('underline')}\n        toolTip=\"Underline\"\n        isActive={getIsActive('underline')}\n      >\n        <Icons.UnderlineIcon />\n      </IconButton>\n    ),\n    orderedList: (\n      <IconButton\n        onClick={() => formatText('insertOrderedList')}\n        toolTip=\"Ordered List\"\n        isActive={getIsActive('orderedList')}\n      >\n        <Icons.OrderedListIcon />\n      </IconButton>\n    ),\n    unorderedList: (\n      <IconButton\n        onClick={() => formatText('insertUnorderedList')}\n        toolTip=\"Unordered List\"\n        isActive={getIsActive('unorderedList')}\n      >\n        <Icons.UnOrderedListIcon />\n      </IconButton>\n    ),\n    justifyLeft: (\n      <IconButton\n        onClick={() => formatText('justifyLeft')}\n        toolTip=\"Justify Left\"\n        isActive={getIsActive('justifyLeft')}\n      >\n        <Icons.AlignLeftIcon />\n      </IconButton>\n    ),\n    justifyCenter: (\n      <IconButton\n        onClick={() => formatText('justifyCenter')}\n        toolTip=\"Justify Center\"\n        isActive={getIsActive('justifyCenter')}\n      >\n        <Icons.AlignCenterIcon />\n      </IconButton>\n    ),\n    justifyRight: (\n      <IconButton\n        onClick={() => formatText('justifyRight')}\n        toolTip=\"Justify Right\"\n        isActive={getIsActive('justifyRight')}\n      >\n        <Icons.AlignRightIcon />\n      </IconButton>\n    ),\n    createLink: (\n      <>\n        <IconButton\n          onClick={() => setUrlDialogOpen(true)}\n          toolTip=\"Create Link\"\n          isActive={getIsActive('createLink')}\n        >\n          <Icons.LinkIcon />\n        </IconButton>\n        <FileUrlDialog\n          isOpen={isUrlDialogOpen}\n          onClose={() => setUrlDialogOpen(false)}\n          title=\"Provide URL\"\n          linkText=\"\"\n          link=\"\"\n          onSubmit={(data, range) => addLink(data.text, data.url, range)}\n        />\n      </>\n    ),\n    insertImage: (\n      <>\n        <IconButton\n          onClick={() => setImageDialogOpen(true)}\n          toolTip=\"Insert Image/Video\"\n          isActive={getIsActive('insertImage')}\n        >\n          <Icons.ImageIcon />\n        </IconButton>\n        <ImageUploadSelectionDialog\n          isOpen={isImageDialogOpen}\n          onClose={() => setImageDialogOpen(false)}\n          title=\"Select Image/Video file\"\n          onSubmit={handleImageSubmit}\n        />\n      </>\n    ),\n    superscript: (\n      <IconButton\n        onClick={() => formatText('superscript')}\n        toolTip=\"Superscript\"\n        isActive={getIsActive('superscript')}\n      >\n        <Icons.SuperScriptIcon />\n      </IconButton>\n    ),\n    subscript: (\n      <IconButton\n        onClick={() => formatText('subscript')}\n        toolTip=\"Subscript\"\n        isActive={getIsActive('subscript')}\n      >\n        <Icons.SubScriptIcon />\n      </IconButton>\n    ),\n    table: (\n      <IconDropDown\n        id=\"tableDropdown\"\n        icon={<Icons.TableIcon />}\n        toolTip={'Table'}\n        items={[\n          { value: 'insert', label: 'Insert Table' },\n          { value: 'addRow', label: 'Add Row' },\n          { value: 'addColumn', label: 'Add Column' },\n        ]}\n        onChange={handleTableOperation}\n      />\n    ),\n    layout: (\n      <IconDropDown\n        id=\"layoutDropdown\"\n        icon={<Icons.LayoutIcon />}\n        toolTip={'Layout'}\n        items={[\n          { value: 'single', label: 'Single Column' },\n          { value: 'two-equal', label: 'Two Equal Columns' },\n          { value: 'three-equal', label: 'Three Equal Columns' },\n          { value: '40-60', label: '40-60' },\n          { value: '60-40', label: '60-40' },\n        ]}\n        onChange={handleLayoutOperation}\n      />\n    ),\n    heading: (\n      <IconDropDown\n        icon={<Icons.HeadingIcon />}\n        items={[\n          { value: 'p', label: 'Paragraph' },\n          { value: 'h1', label: 'Heading 1' },\n          { value: 'h2', label: 'Heading 2' },\n          { value: 'h3', label: 'Heading 3' },\n          { value: 'h4', label: 'Heading 4' },\n          { value: 'h5', label: 'Heading 5' },\n          { value: 'h6', label: 'Heading 6' },\n        ]}\n        onChange={handleHeadingChange}\n        toolTip={'Headings'}\n      />\n    ),\n  };\n\n  return (\n    <div className=\"sg-text__toolbar\">\n      <div className=\"sg-text__toolbar-switch\">\n        <label>\n          <input\n            type=\"checkbox\"\n            checked={isToolbarVisible}\n            onChange={toggleToolbarVisibility}\n          />\n          {!isToolbarVisible ? 'Preview Mode' : 'Edit Mode'}\n        </label>\n      </div>\n      {!isToolbarVisible &&\n        features.map((feature, index) => (\n          <React.Fragment key={index}>{featureButtons[feature]}</React.Fragment>\n        ))}\n    </div>\n  );\n};\n\nexport default Toolbar;\n","import React from 'react';\n\nexport const CloseIcon = () => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"18\"\n    height=\"20\"\n    viewBox=\"0 0 24 20\"\n  >\n    <path d=\"m16.192 6.344-4.243 4.242-4.242-4.242-1.414 1.414L10.535 12l-4.242 4.242 1.414 1.414 4.242-4.242 4.243 4.242 1.414-1.414L13.364 12l4.242-4.242z\"></path>\n  </svg>\n);\nexport const BoldIcon = () => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"18\"\n    height=\"20\"\n    viewBox=\"0 0 24 20\"\n  >\n    <path d=\"M17.061 11.22A4.46 4.46 0 0 0 18 8.5C18 6.019 15.981 4 13.5 4H6v15h8c2.481 0 4.5-2.019 4.5-4.5a4.48 4.48 0 0 0-1.439-3.28zM13.5 7c.827 0 1.5.673 1.5 1.5s-.673 1.5-1.5 1.5H9V7h4.5zm.5 9H9v-3h5c.827 0 1.5.673 1.5 1.5S14.827 16 14 16z\"></path>\n  </svg>\n);\nexport const ItalicIcon = () => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"18\"\n    height=\"20\"\n    viewBox=\"0 0 24 20\"\n  >\n    <path d=\"M19 7V4H9v3h2.868L9.012 17H5v3h10v-3h-2.868l2.856-10z\"></path>\n  </svg>\n);\nexport const UnderlineIcon = () => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"18\"\n    height=\"20\"\n    viewBox=\"0 0 24 20\"\n  >\n    <path d=\"M5 18h14v2H5zM6 4v6c0 3.309 2.691 6 6 6s6-2.691 6-6V4h-2v6c0 2.206-1.794 4-4 4s-4-1.794-4-4V4H6z\"></path>\n  </svg>\n);\nexport const AlignLeftIcon = () => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"18\"\n    height=\"20\"\n    viewBox=\"0 0 24 20\"\n  >\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M3 6C3 5.44772 3.44772 5 4 5H20C20.5523 5 21 5.44772 21 6C21 6.55228 20.5523 7 20 7H4C3.44772 7 3 6.55228 3 6ZM3 12C3 11.4477 3.44772 11 4 11H14C14.5523 11 15 11.4477 15 12C15 12.5523 14.5523 13 14 13H4C3.44772 13 3 12.5523 3 12ZM3 18C3 17.4477 3.44772 17 4 17H18C18.5523 17 19 17.4477 19 18C19 18.5523 18.5523 19 18 19H4C3.44772 19 3 18.5523 3 18Z\"\n    ></path>\n  </svg>\n);\nexport const AlignCenterIcon = () => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"18\"\n    height=\"20\"\n    viewBox=\"0 0 24 20\"\n  >\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M3 6C3 5.44772 3.44772 5 4 5H20C20.5523 5 21 5.44772 21 6C21 6.55228 20.5523 7 20 7H4C3.44772 7 3 6.55228 3 6ZM7 12C7 11.4477 7.44772 11 8 11H16C16.5523 11 17 11.4477 17 12C17 12.5523 16.5523 13 16 13H8C7.44772 13 7 12.5523 7 12ZM5 18C5 17.4477 5.44772 17 6 17H18C18.5523 17 19 17.4477 19 18C19 18.5523 18.5523 19 18 19H6C5.44772 19 5 18.5523 5 18Z\"\n    ></path>{' '}\n  </svg>\n);\nexport const AlignRightIcon = () => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"18\"\n    height=\"20\"\n    viewBox=\"0 0 24 20\"\n  >\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M3 6C3 5.44772 3.44772 5 4 5H20C20.5523 5 21 5.44772 21 6C21 6.55228 20.5523 7 20 7H4C3.44772 7 3 6.55228 3 6ZM9 12C9 11.4477 9.44772 11 10 11H20C20.5523 11 21 11.4477 21 12C21 12.5523 20.5523 13 20 13H10C9.44772 13 9 12.5523 9 12ZM5 18C5 17.4477 5.44772 17 6 17H20C20.5523 17 21 17.4477 21 18C21 18.5523 20.5523 19 20 19H6C5.44772 19 5 18.5523 5 18Z\"\n    ></path>{' '}\n  </svg>\n);\nexport const MenuIcon = () => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"18\"\n    height=\"20\"\n    viewBox=\"0 0 24 20\"\n  >\n    <path d=\"M12 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zM6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\"></path>\n  </svg>\n);\nexport const UnOrderedListIcon = () => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"18\"\n    height=\"20\"\n    viewBox=\"0 0 24 20\"\n  >\n    <path d=\"M4 6h2v2H4zm0 5h2v2H4zm0 5h2v2H4zm16-8V6H8.023v2H18.8zM8 11h12v2H8zm0 5h12v2H8z\"></path>\n  </svg>\n);\nexport const OrderedListIcon = () => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"18\"\n    height=\"20\"\n    viewBox=\"0 0 24 20\"\n  >\n    <path d=\"M5.282 12.064c-.428.328-.72.609-.875.851-.155.24-.249.498-.279.768h2.679v-.748H5.413c.081-.081.152-.151.212-.201.062-.05.182-.142.361-.27.303-.218.511-.42.626-.604.116-.186.173-.375.173-.578a.898.898 0 0 0-.151-.512.892.892 0 0 0-.412-.341c-.174-.076-.419-.111-.733-.111-.3 0-.537.038-.706.114a.889.889 0 0 0-.396.338c-.094.143-.159.346-.194.604l.894.076c.025-.188.074-.317.147-.394a.375.375 0 0 1 .279-.108c.11 0 .2.035.272.108a.344.344 0 0 1 .108.258.55.55 0 0 1-.108.297c-.074.102-.241.254-.503.453zm.055 6.386a.398.398 0 0 1-.282-.105c-.074-.07-.128-.195-.162-.378L4 18.085c.059.204.142.372.251.506.109.133.248.235.417.306.168.069.399.103.692.103.3 0 .541-.047.725-.14a1 1 0 0 0 .424-.403c.098-.175.146-.354.146-.544a.823.823 0 0 0-.088-.393.708.708 0 0 0-.249-.261 1.015 1.015 0 0 0-.286-.11.943.943 0 0 0 .345-.299.673.673 0 0 0 .113-.383.747.747 0 0 0-.281-.596c-.187-.159-.49-.238-.909-.238-.365 0-.648.072-.847.219-.2.143-.334.353-.404.626l.844.151c.023-.162.067-.274.133-.338s.151-.098.257-.098a.33.33 0 0 1 .241.089c.059.06.087.139.087.238 0 .104-.038.193-.117.27s-.177.112-.293.112a.907.907 0 0 1-.116-.011l-.045.649a1.13 1.13 0 0 1 .289-.056c.132 0 .237.041.313.126.077.082.115.199.115.352 0 .146-.04.266-.119.354a.394.394 0 0 1-.301.134zm.948-10.083V5h-.739a1.47 1.47 0 0 1-.394.523c-.168.142-.404.262-.708.365v.754a2.595 2.595 0 0 0 .937-.48v2.206h.904zM9 6h11v2H9zm0 5h11v2H9zm0 5h11v2H9z\"></path>\n  </svg>\n);\nexport const ImageIcon = () => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"18\"\n    height=\"20\"\n    viewBox=\"0 0 24 20\"\n  >\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M5 7C5 5.89543 5.89543 5 7 5H17C18.1046 5 19 5.89543 19 7V12.5858L18.7071 12.2929L18.6934 12.2794C18.091 11.6998 17.3358 11.3301 16.5 11.3301C15.6642 11.3301 14.909 11.6998 14.3066 12.2794L14.2929 12.2929L14 12.5858L11.7071 10.2929L11.6934 10.2794C11.091 9.6998 10.3358 9.33014 9.5 9.33014C8.66419 9.33014 7.909 9.6998 7.30662 10.2794L7.29289 10.2929L5 12.5858V7ZM15.4142 14L15.6997 13.7146C16.0069 13.4213 16.2841 13.3301 16.5 13.3301C16.7159 13.3301 16.9931 13.4213 17.3003 13.7146L19 15.4142V17C19 18.1046 18.1046 19 17 19H7C5.89543 19 5 18.1046 5 17V15.4142L8.69966 11.7146C9.0069 11.4213 9.28406 11.3301 9.5 11.3301C9.71594 11.3301 9.9931 11.4213 10.3003 11.7146L13.2929 14.7071L15.2929 16.7071C15.6834 17.0976 16.3166 17.0976 16.7071 16.7071C17.0976 16.3166 17.0976 15.6834 16.7071 15.2929L15.4142 14ZM21 15.001V17C21 19.2091 19.2091 21 17 21H7C4.79086 21 3 19.2091 3 17V15.0002V14.9998V7C3 4.79086 4.79086 3 7 3H17C19.2091 3 21 4.79086 21 7V14.999C21 14.9997 21 15.0003 21 15.001ZM15 7C14.4477 7 14 7.44772 14 8C14 8.55228 14.4477 9 15 9H15.01C15.5623 9 16.01 8.55228 16.01 8C16.01 7.44772 15.5623 7 15.01 7H15Z\"\n    ></path>\n  </svg>\n);\nexport const LinkIcon = () => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"18\"\n    height=\"20\"\n    viewBox=\"0 0 24 20\"\n  >\n    <path d=\"M8.465 11.293c1.133-1.133 3.109-1.133 4.242 0l.707.707 1.414-1.414-.707-.707c-.943-.944-2.199-1.465-3.535-1.465s-2.592.521-3.535 1.465L4.929 12a5.008 5.008 0 0 0 0 7.071 4.983 4.983 0 0 0 3.535 1.462A4.982 4.982 0 0 0 12 19.071l.707-.707-1.414-1.414-.707.707a3.007 3.007 0 0 1-4.243 0 3.005 3.005 0 0 1 0-4.243l2.122-2.121z\"></path>\n    <path d=\"m12 4.929-.707.707 1.414 1.414.707-.707a3.007 3.007 0 0 1 4.243 0 3.005 3.005 0 0 1 0 4.243l-2.122 2.121c-1.133 1.133-3.109 1.133-4.242 0L10.586 12l-1.414 1.414.707.707c.943.944 2.199 1.465 3.535 1.465s2.592-.521 3.535-1.465L19.071 12a5.008 5.008 0 0 0 0-7.071 5.006 5.006 0 0 0-7.071 0z\"></path>\n  </svg>\n);\nexport const CodeIcon = () => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"18\"\n    height=\"20\"\n    viewBox=\"0 0 24 20\"\n  >\n    <path d=\"m7.375 16.781 1.25-1.562L4.601 12l4.024-3.219-1.25-1.562-5 4a1 1 0 0 0 0 1.562l5 4zm9.25-9.562-1.25 1.562L19.399 12l-4.024 3.219 1.25 1.562 5-4a1 1 0 0 0 0-1.562l-5-4zm-1.649-4.003-4 18-1.953-.434 4-18z\"></path>\n  </svg>\n);\nexport const SubScriptIcon = () => (\n  <svg\n    width=\"18\"\n    height=\"20\"\n    viewBox=\"0 0 24 20\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M4.7433 5.33104C4.37384 4.92053 3.74155 4.88726 3.33104 5.25671C2.92053 5.62617 2.88726 6.25846 3.25671 6.66897L7.15465 11L3.25671 15.331C2.88726 15.7416 2.92053 16.3738 3.33104 16.7433C3.74155 17.1128 4.37384 17.0795 4.7433 16.669L8.50001 12.4949L12.2567 16.669C12.6262 17.0795 13.2585 17.1128 13.669 16.7433C14.0795 16.3738 14.1128 15.7416 13.7433 15.331L9.84537 11L13.7433 6.66897C14.1128 6.25846 14.0795 5.62617 13.669 5.25671C13.2585 4.88726 12.6262 4.92053 12.2567 5.33104L8.50001 9.50516L4.7433 5.33104ZM17.3181 14.0484C17.6174 13.7595 18.1021 13.7977 18.3524 14.13C18.5536 14.3971 18.5353 14.7698 18.3088 15.0158L15.2643 18.3227C14.9955 18.6147 14.9248 19.0382 15.0842 19.4017C15.2437 19.7652 15.6031 20 16 20H20C20.5523 20 21 19.5523 21 19C21 18.4477 20.5523 18 20 18H18.2799L19.7802 16.3704C20.6607 15.414 20.7321 13.965 19.95 12.9267C18.9769 11.6348 17.0925 11.4862 15.929 12.6096L15.3054 13.2116C14.9081 13.5953 14.897 14.2283 15.2806 14.6256C15.6642 15.023 16.2973 15.0341 16.6946 14.6505L17.3181 14.0484Z\"\n      fill=\"#000000\"\n    />\n  </svg>\n);\nexport const SuperScriptIcon = () => (\n  <svg\n    width=\"18\"\n    height=\"20\"\n    viewBox=\"0 0 24 20\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M17.3181 6.04842C17.6174 5.75945 18.1021 5.79767 18.3524 6.12997C18.5536 6.39707 18.5353 6.76978 18.3088 7.01579L15.2643 10.3227C14.9955 10.6147 14.9248 11.0382 15.0842 11.4017C15.2437 11.7652 15.6031 12 16 12H20C20.5523 12 21 11.5523 21 11C21 10.4477 20.5523 10 20 10H18.2799L19.7802 8.37041C20.6607 7.41399 20.7321 5.96504 19.95 4.92665C18.9769 3.63478 17.0925 3.48621 15.929 4.60962L15.3054 5.21165C14.9081 5.59526 14.897 6.22833 15.2806 6.62564C15.6642 7.02296 16.2973 7.03406 16.6946 6.65045L17.3181 6.04842ZM4.7433 8.33104C4.37384 7.92053 3.74155 7.88725 3.33104 8.25671C2.92053 8.62616 2.88726 9.25845 3.25671 9.66896L7.15465 14L3.25671 18.331C2.88726 18.7415 2.92053 19.3738 3.33104 19.7433C3.74155 20.1128 4.37384 20.0795 4.7433 19.669L8.50001 15.4948L12.2567 19.669C12.6262 20.0795 13.2585 20.1128 13.669 19.7433C14.0795 19.3738 14.1128 18.7415 13.7433 18.331L9.84537 14L13.7433 9.66896C14.1128 9.25845 14.0795 8.62616 13.669 8.25671C13.2585 7.88725 12.6262 7.92053 12.2567 8.33104L8.50001 12.5052L4.7433 8.33104Z\"\n      fill=\"#000000\"\n    />\n  </svg>\n);\nexport const TableIcon = () => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"18\"\n    height=\"20\"\n    viewBox=\"0 0 24 20\"\n  >\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M5 4C4.73478 4 4.48043 4.10536 4.29289 4.29289C4.10536 4.48043 4 4.73478 4 5V9H9V4H5ZM5 2C4.20435 2 3.44129 2.31607 2.87868 2.87868C2.31607 3.44129 2 4.20435 2 5V19C2 19.7957 2.31607 20.5587 2.87868 21.1213C3.44129 21.6839 4.20435 22 5 22H19C19.7957 22 20.5587 21.6839 21.1213 21.1213C21.6839 20.5587 22 19.7957 22 19V5C22 4.20435 21.6839 3.44129 21.1213 2.87868C20.5587 2.31607 19.7957 2 19 2H5ZM11 4V9H20V5C20 4.73478 19.8946 4.48043 19.7071 4.29289C19.5196 4.10536 19.2652 4 19 4H11ZM20 11H11V20H19C19.2652 20 19.5196 19.8946 19.7071 19.7071C19.8946 19.5196 20 19.2652 20 19V11ZM9 20V11H4V19C4 19.2652 4.10536 19.5196 4.29289 19.7071C4.48043 19.8946 4.73478 20 5 20H9Z\"\n    ></path>\n  </svg>\n);\nexport const LayoutIcon = () => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"18\"\n    height=\"20\"\n    viewBox=\"0 0 24 20\"\n  >\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M2.58579 2.58579C2.96086 2.21071 3.46957 2 4 2H20C20.5304 2 21.0391 2.21071 21.4142 2.58579C21.7893 2.96086 22 3.46957 22 4V20C22 20.5304 21.7893 21.0391 21.4142 21.4142C21.0391 21.7893 20.5304 22 20 22H4C3.46957 22 2.96086 21.7893 2.58579 21.4142C2.21071 21.0391 2 20.5304 2 20V4C2 3.46957 2.21071 2.96086 2.58579 2.58579ZM13 20H20V4H13V20ZM11 4V20H4V4H11Z\"\n    ></path>{' '}\n  </svg>\n);\n\nexport const EditIcon = () => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"18\"\n    height=\"20\"\n    viewBox=\"0 0 24 20\"\n  >\n    <path d=\"m7 17.013 4.413-.015 9.632-9.54c.378-.378.586-.88.586-1.414s-.208-1.036-.586-1.414l-1.586-1.586c-.756-.756-2.075-.752-2.825-.003L7 12.583v4.43zM18.045 4.458l1.589 1.583-1.597 1.582-1.586-1.585 1.594-1.58zM9 13.417l6.03-5.973 1.586 1.586-6.029 5.971L9 15.006v-1.589z\"></path>\n    <path d=\"M5 21h14c1.103 0 2-.897 2-2v-8.668l-2 2V19H8.158c-.026 0-.053.01-.079.01-.033 0-.066-.009-.1-.01H5V5h6.847l2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2z\"></path>\n  </svg>\n);\n\nexport const DeleteIcon = () => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"18\"\n    height=\"20\"\n    viewBox=\"0 0 24 20\"\n  >\n    <path d=\"M9.5 22c2.003 0 3.887-.78 5.313-2.207l6.904-7.096A1 1 0 0 0 21 11h-3.301l4.175-7.514a1.001 1.001 0 0 0-1.359-1.36l-7.11 3.95.576-2.879a1 1 0 0 0-1.629-.957L4.196 9.197c-2.924 2.924-2.924 7.682 0 10.606A7.452 7.452 0 0 0 9.5 22zM5.552 10.665l5.902-5.031-.248 1.24-.186.93v.001l-.424 2.119 7.83-4.35-3.3 5.94-.001.001L14.301 13h4.331l-5.243 5.389C12.35 19.428 10.969 20 9.5 20s-2.851-.572-3.89-1.611c-2.143-2.144-2.143-5.634-.058-7.724z\"></path>\n    <path d=\"M9.5 18a3.492 3.492 0 0 0 1.484-6.659c.005.053.016.105.016.159a1.5 1.5 0 1 1-3 0c0-.054.011-.106.016-.159A3.492 3.492 0 0 0 9.5 18z\"></path>\n  </svg>\n);\nexport const HeadingIcon = () => (\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"18\"\n    height=\"24\"\n    viewBox=\"0 0 24 24\"\n  >\n    <path d=\"M18 20V4h-3v6H9V4H6v16h3v-7h6v7z\"></path>\n  </svg>\n);\n","import React, { useState } from 'react';\nimport '../../styles/ui-component.css';\nimport Tooltip from './ToolTip';\n\nconst AppButton = ({\n  type = 'primary',\n  children,\n  onClick,\n  disabled = false,\n}) => {\n  const className = `sg-text__button sg-text__button-${type}`;\n\n  const handleClick = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    onClick();\n  };\n\n  return (\n    <button className={className} onClick={handleClick} disabled={disabled}>\n      {children}\n    </button>\n  );\n};\n\nconst IconButton = ({ children, onClick, id, toolTip, isActive }) => {\n  const handleClick = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    onClick();\n  };\n\n  return (\n    <Tooltip text={toolTip}>\n      <div className={`sg-text__toolbarBtnDiv ${isActive ? 'active' : ''}`}>\n        <button className=\"sg-text__toolbarBtn\" onClick={handleClick} id={id}>\n          {children}\n        </button>\n      </div>\n    </Tooltip>\n  );\n};\n\nconst LinkButton = ({ text, url, onEdit, onDelete }) => {\n  const [hover, setHover] = useState(false);\n\n  const handleClickLinkBtn = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    window.open(url, '_blank', 'noopener,noreferrer');\n  };\n\n  const handleClickEdit = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    onEdit();\n  };\n\n  const handleClickDel = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    onDelete();\n  };\n\n  return (\n    <div\n      className=\"sg-text__link-button-container\"\n      onMouseEnter={() => setHover(true)}\n      onMouseLeave={() => setHover(false)}\n      style={{ display: 'inline-block', position: 'relative' }}\n    >\n      <button className=\"sg-text__link-button\" onClick={handleClickLinkBtn}>\n        {text}\n      </button>\n\n      {hover && (\n        <div\n          className=\"sg-text__link-options\"\n          style={{\n            position: 'absolute',\n            top: '100%',\n            left: '0',\n            minWidth: '80px',\n            background: 'white',\n            border: '1px solid #ccc',\n            padding: '4px',\n          }}\n        >\n          <button className=\"sg-text__toolbarBtn\" onClick={onEdit} id=\"linkEditBtn\">\n            Edit\n          </button>\n          <button className=\"sg-text__toolbarBtn\" onClick={onDelete} id=\"linkDelBtn\">\n            Delete\n          </button>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport { AppButton, IconButton, LinkButton };\n","import React from 'react';\nimport '../../styles/ui-component.css';\n\nconst Tooltip = ({ text, children }) => {\n  return text ? (\n    <div className=\"sg-text__tooltip-container\">\n      <div className=\"sg-text__tooltip\">{text}</div>\n      {children}\n    </div>\n  ) : (\n    <></>\n  );\n};\n\nexport default Tooltip;\n","import React, { useEffect, useRef, useState } from 'react';\nimport '../../styles/ui-component.css';\nimport { AppButton, IconButton } from './Button.jsx';\nimport * as Icons from '../../assets/icon.jsx';\n\n// Image/Video Dialog\nconst ImageUploadSelectionDialog = ({\n  isOpen,\n  onClose,\n  onSubmit,\n  title,\n  children,\n}) => {\n  const [file, setFile] = useState(null);\n  const [imageUrl, setImageUrl] = useState('');\n  const [error, setError] = useState('');\n\n  // valid extensions for image and video.\n  const validImageExtensions = ['jpg', 'jpeg', 'png', 'gif', 'bmp', 'webp'];\n  const validVideoExtensions = ['mp4', 'avi', 'mov', 'wmv', 'flv', 'webm'];\n\n  // Reset dialog state when it is opened\n  useEffect(() => {\n    if (isOpen) {\n      resetToDefault();\n    }\n  }, [isOpen]);\n\n  const closeDialog = () => {\n    resetToDefault();\n    onClose();\n  };\n\n  const resetToDefault = () => {\n    setImageUrl('');\n    setFile(null);\n    setError('');\n  };\n\n  const handleFileChange = (event) => {\n    const selectedFile = event.target.files[0];\n    if (selectedFile) {\n      const fileExtension = selectedFile.name.split('.').pop().toLowerCase();\n      if (\n        validImageExtensions.includes(fileExtension) ||\n        validVideoExtensions.includes(fileExtension)\n      ) {\n        setFile(selectedFile);\n        setError('');\n      } else {\n        setFile(null);\n        setError('Invalid file type. Please select an image or video file.');\n      }\n    }\n  };\n\n  const handleSubmit = () => {\n    if (file || imageUrl) {\n      onSubmit({ file, imageUrl });\n      onClose();\n    } else {\n      setError('Please select a file or image url');\n    }\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"sg-text__dialog-overlay\">\n      <div className=\"sg-text__dialog-container\">\n        <div className=\"sg-text__dialog-header\">\n          {title}\n          <IconButton onClick={onClose} id=\"dialogClose\">\n            <Icons.CloseIcon />\n          </IconButton>\n        </div>\n        <div className=\"sg-text__dialog-body\">\n          <div className=\"sg-text__container\">\n            <label htmlFor=\"file-input\" className=\"sg-text__custom-file-input\">\n              {!file ? 'Select file' : 'Reselect file'}\n            </label>\n            <input\n              type=\"file\"\n              id=\"file-input\"\n              accept=\"image/*,video/*\"\n              onChange={handleFileChange}\n            />\n            {file && (\n              <div className=\"sg-text__file-info\">\n                <p>Selected file: {file.name} </p>\n                <p>File size: {(file.size / 1024).toFixed(2)} KB</p>\n              </div>\n            )}\n            {error && <p className=\"sg-text__error\">{error}</p>}\n          </div>\n        </div>\n        <div className=\"sg-text__dialog-footer\">\n          <AppButton type=\"cancel\" onClick={closeDialog}>\n            Cancel\n          </AppButton>\n          <AppButton onClick={handleSubmit}>Submit</AppButton>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst FileUrlDialog = ({\n  isOpen,\n  onClose,\n  onSubmit,\n  linkText,\n  link,\n  children,\n}) => {\n  const [url, setUrl] = useState(link || ''); // Initialize with link if provided\n  const [text, setText] = useState(linkText || ''); // Initialize with title if provided\n  const [error, setError] = useState('');\n  const range = useRef(null);\n\n  // Reset dialog state after submission\n  useEffect(() => {\n    if (isOpen) {\n      resetToDefault();\n      const selection = window.getSelection();\n      range.current = selection.rangeCount > 0 ? selection.getRangeAt(0) : null;\n    }\n  }, [isOpen, link, linkText]);\n\n  const closeDialog = () => {\n    resetToDefault();\n    onClose();\n  };\n\n  const resetToDefault = () => {\n    const selection =\n      window.getSelection().rangeCount > 0\n        ? window.getSelection().toString()\n        : null;\n    setUrl(link || selection || '');\n    setText(linkText || selection || '');\n    setError('');\n  };\n\n  const handleLinkUrl = (event) => {\n    setUrl(event.target.value);\n  };\n\n  const handleLinkText = (event) => {\n    setText(event.target.value);\n  };\n\n  const handleSubmit = () => {\n    let errorMessage = '';\n    if (!url) {\n      errorMessage += 'Please provide an URL.';\n    }\n    if (!text) {\n      errorMessage += 'Please provide a text for the link.';\n    }\n    if (errorMessage) {\n      setError(errorMessage);\n    } else {\n      onSubmit({ text, url }, range.current);\n      onClose();\n    }\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"sg-text__dialog-overlay\">\n      <div className=\"sg-text__dialog-container\">\n        <div className=\"sg-text__dialog-header\">\n          {'Enter Title'}\n          <IconButton onClick={onClose} id=\"dialogClose\">\n            <Icons.CloseIcon />\n          </IconButton>\n        </div>\n        <div className=\"sg-text__dialog-body\">\n          <div className=\"sg-text__container\">\n            <input\n              type=\"text\"\n              className=\"sg-text__image-url-input\"\n              placeholder=\"Texte du lien\"\n              value={text}\n              onChange={handleLinkText}\n            />\n          </div>\n          <div className=\"sg-text__container\">\n            <input\n              type=\"text\"\n              className=\"sg-text__image-url-input\"\n              placeholder=\"URL du lien\"\n              value={url}\n              onChange={handleLinkUrl}\n            />\n            {error && <p className=\"sg-text__error\">{error}</p>}\n          </div>\n        </div>\n        <div className=\"sg-text__dialog-footer\">\n          <AppButton type=\"cancel\" onClick={closeDialog}>\n            Annuler\n          </AppButton>\n          <AppButton onClick={handleSubmit}>Valider</AppButton>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport { ImageUploadSelectionDialog, FileUrlDialog };\n","import React, { useState } from 'react';\nimport '../../styles/ui-component.css';\nimport Tooltip from './ToolTip';\n\nconst IconDropDown = ({ items, onChange, icon, id, openRight, toolTip }) => {\n  const [isOpen, setIsOpen] = useState(false);\n\n  const handleButtonClick = (e) => {\n    e.preventDefault();\n    setIsOpen(!isOpen);\n  };\n\n  const handleItemClick = (value, e) => {\n    e.preventDefault();\n    onChange(value);\n    setIsOpen(false);\n  };\n\n  return (\n    <div className={`sg-text__icon-dropdown ${openRight ? 'open-right' : ''}`}>\n      <Tooltip text={toolTip}>\n        <button\n          className=\"sg-text__dropbtn\"\n          id={id}\n          onMouseDown={handleButtonClick}\n          onClick={(e) => {\n            e.preventDefault();\n            e.stopPropagation();\n          }}\n        >\n          {icon}\n        </button>\n      </Tooltip>\n      {isOpen && (\n        <div className=\"sg-text__icon-dropdown-content\">\n          {items.map((item, index) => (\n            <div\n              key={index}\n              className=\"sg-text__dropdown-item\"\n              onMouseDown={(e) => handleItemClick(item.value, e)}\n            >\n              {item.icon && <span className=\"sg-text__dropdown-icon\">{item.icon}</span>}\n              {item.label}\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport { IconDropDown };\n","import { useState } from 'react';\n\nexport const usePreviewMode = () => {\n  const [isToolbarVisible, setToolbarVisibility] = useState(false);\n\n  const toggleToolbarVisibility = () => {\n    setToolbarVisibility((prev) => !prev);\n  };\n\n  return { isToolbarVisible, toggleToolbarVisibility };\n};\n","import React from 'react';\nimport { useEditor } from '../../contexts/editorContext.jsx';\nimport '../../index.css';\n\nconst placeCursorTextEnd = (el) => {\n  const range = document.createRange();\n  range.selectNodeContents(el);\n  range.collapse(false);\n  const selection = window.getSelection();\n  selection.removeAllRanges();\n  selection.addRange(range);\n};\n\nconst Editor = ({ height = '300px' }) => {\n  const { editorRef, wordCount, charCount } = useEditor();\n\n  return (\n    <>\n      {/* main editor */}\n      <div\n        ref={editorRef}\n        contentEditable\n        className=\"sg-text__editor-content\"\n        onFocus={() => placeCursorTextEnd(editorRef.current)}\n        style={{\n          minHeight: height,\n          padding: '10px',\n          overflowY: 'auto',\n        }}\n      />\n      {/* footer */}\n      <div className=\"sg-text__editor-footer\">\n        <span>Words: {wordCount}</span> | <span>Chars: {charCount}</span>\n      </div>\n    </>\n  );\n};\n\nexport default Editor;\n","import React, { useCallback, useEffect, useRef, useState } from \"react\";\r\nimport clsx from \"clsx\";\r\nimport Block, { AddBlockContextMenu, BlockToolbar, BlockToolbarColumn } from \"../Block\";\r\nimport { BsArrowsExpand, BsArrowsExpandVertical } from \"react-icons/bs\";\r\nimport { BlockType, EditorParsedBlock } from \"../definitions\";\r\nimport { useEditor } from \"../context\";\r\nimport Button from \"../components/Button\";\r\nimport { MdCenterFocusStrong } from \"react-icons/md\";\r\nimport { FaPlus } from \"react-icons/fa6\";\r\n\r\ntype GroupBlockType = BlockType<{\r\n    flow: 'horizontal' | 'vertical',\r\n    template?: number[],\r\n}>\r\nexport interface RowBlockProps {\r\n    block: EditorParsedBlock<GroupBlockType>,\r\n    isActive?: boolean\r\n}\r\n\r\nconst RowBlock: React.FC<RowBlockProps> = ({ block, isActive }) => {\r\n    const minChildWidth = 320;\r\n    const { blockID, hasFocusWithin, value, children } = block;\r\n    const { flow, height, template } = value ?? {};\r\n\r\n    const [groupWidth, setGroupWidth] = useState<number | null>(null);\r\n    const [currentTemplate, setCurrentTemplate] = useState<number[]>(template || []);\r\n    const [isResizing, setIsResizing] = useState<number | null>(null);\r\n\r\n    const groupRef = useRef<HTMLDivElement|null>(null);\r\n    const { blocks, setActiveBlock, updateBlock } = useEditor();\r\n\r\n    const prevXRef = useRef<number | null>(null);\r\n\r\n    const isResizable = !!children?.length && groupWidth ? groupWidth > (minChildWidth * children?.length) : false;\r\n\r\n    //Resize Handlers\r\n\r\n    const handleResizeStart = useCallback((e: React.MouseEvent<HTMLDivElement>, indexEl: number) => {\r\n        if (isResizable) {\r\n            setIsResizing(indexEl);\r\n            prevXRef.current = e.clientX;\r\n            document.body.style.userSelect = 'none';\r\n        }\r\n    }, [prevXRef, setIsResizing, groupWidth, minChildWidth, isResizable]);\r\n\r\n    useEffect(() => {\r\n        if (children && children?.length !== currentTemplate.length) {\r\n            const newTemplate = Array(children.length).fill(100 / children?.length);\r\n            updateBlock(blockID, {\r\n                value: {\r\n                    template: newTemplate\r\n                }\r\n            })\r\n        }\r\n    }, [children?.length]);\r\n\r\n\r\n    useEffect(() => {\r\n        if (isResizing !== null) {\r\n            const currentTemplateRef: { current: number[] | null } = { current: null }\r\n\r\n            const handleResize = (e: MouseEvent) => {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n\r\n                const deltaX = prevXRef.current ? e.clientX - prevXRef.current : 0;\r\n                const deltaPercentage = groupWidth ? deltaX / groupWidth * 100 : 0;\r\n                if (groupWidth)\r\n                    setCurrentTemplate((prevTemplate) => {\r\n                        const newTemplate = [...prevTemplate];\r\n                        newTemplate[isResizing] += deltaPercentage;\r\n                        newTemplate[isResizing + 1] -= deltaPercentage;\r\n                        if (\r\n                            newTemplate[isResizing] / 100 * groupWidth < minChildWidth ||\r\n                            newTemplate[isResizing + 1] / 100 * groupWidth < minChildWidth\r\n                        ) {\r\n                            currentTemplateRef.current = prevTemplate;\r\n                            return prevTemplate;\r\n                        }\r\n                        currentTemplateRef.current = newTemplate;\r\n                        return newTemplate;\r\n                    });\r\n                prevXRef.current = e.clientX;\r\n            };\r\n\r\n            const handleResizeEnd = () => {\r\n\r\n                setIsResizing(null);\r\n                prevXRef.current = null;\r\n                document.body.style.userSelect = '';\r\n                if (currentTemplateRef.current) {\r\n                    updateBlock(blockID, {\r\n                        value: {\r\n                            template: currentTemplateRef.current.map((val => Math.floor(val)))\r\n                        }\r\n                    });\r\n                }\r\n\r\n            };\r\n\r\n\r\n            document.addEventListener('mousemove', handleResize);\r\n            document.addEventListener('mouseup', handleResizeEnd);\r\n            return () => {\r\n                document.removeEventListener('mousemove', handleResize);\r\n                document.removeEventListener('mouseup', handleResizeEnd);\r\n            }\r\n        }\r\n    }, [isResizing, groupWidth]);\r\n\r\n    useEffect(() => {\r\n        setCurrentTemplate(template || []);\r\n    }, [template])\r\n\r\n    //Observe Resize event on group div\r\n    useEffect(() => {\r\n        const handleResize = (entries: ResizeObserverEntry[]) => {\r\n            for (const entry of entries) {\r\n                const { width } = entry.contentRect;\r\n                setGroupWidth(width);\r\n            }\r\n        };\r\n\r\n        const resizeObserver = new ResizeObserver(handleResize);\r\n\r\n        if (groupRef.current) {\r\n            resizeObserver.observe(groupRef.current);\r\n        }\r\n        \r\n        setGroupWidth(groupRef.current?.getBoundingClientRect().width || null);\r\n\r\n        return () => {\r\n            if (groupRef.current) {\r\n                resizeObserver.unobserve(groupRef.current);\r\n            }\r\n            resizeObserver.disconnect();\r\n        };\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (children)\r\n            updateBlock(blockID, {\r\n                value: {\r\n                    template: children.map(() => 100 / children.length)\r\n                }\r\n\r\n            })\r\n    }, [children])\r\n\r\n    return (\r\n        <>\r\n            <BlockToolbar>\r\n                <BlockToolbarColumn\r\n                    title={'Direction'}\r\n                >\r\n                    <Button\r\n                        variant={flow === \"vertical\" ? undefined : \"selected\"}\r\n                        onClick={() => updateBlock(blockID, {\r\n                            value: {\r\n                                flow: \"horizontal\"\r\n                            }\r\n                        })}\r\n                        title=\"Empiler les blocs horizontalement\"\r\n                        ariaLabel=\"Empiler les blocs horizontalement\"\r\n                    >\r\n                        <BsArrowsExpandVertical />\r\n                    </Button>\r\n                    <Button\r\n                        variant={flow !== \"vertical\" ? undefined : \"selected\"}\r\n                        onClick={() => updateBlock(blockID, {\r\n                            value: {\r\n                                flow: \"vertical\"\r\n                            }\r\n                        })}\r\n                        title=\"Empiler les blocs verticalement\"\r\n                        ariaLabel=\"Empiler les blocs verticalement\"\r\n                    >\r\n                        <BsArrowsExpand />\r\n                    </Button>\r\n                </BlockToolbarColumn>\r\n            </BlockToolbar>\r\n            <div\r\n                className={clsx(\r\n                    \"sg-block__blockGroup\",\r\n                    block.hasFocusWithin && 'sg-block__blockGroup--focusWithin',\r\n                    flow === \"vertical\" ? 'sg-block__blockGroup--vertical' : 'sg-block__blockGroup--horizontal',\r\n                    height && (typeof height === 'number' || height.indexOf('px') !== -1) ? 'sg-block__blockGroup--fixedHeight' : ''\r\n                )}\r\n                ref={groupRef}\r\n            >\r\n                {!!children &&\r\n                    block.children?.map((childID, indexEl) => (\r\n                        <div\r\n                            key={childID}\r\n                            className=\"sg-block__blockGroup__childContainer\"\r\n                            style={{\r\n                                flex: currentTemplate?.[indexEl] + \"% 1 0\",\r\n                                minWidth: minChildWidth + \"px\"\r\n                            }}\r\n                        >\r\n                            <Block\r\n                                horizontalFlow={flow !== 'vertical'}\r\n                                block={blocks.get(childID)}\r\n                            />\r\n                            {isActive && (indexEl !== children.length - 1) &&\r\n                                <div\r\n                                    className={clsx(\r\n                                        \"sg-block__blockGroup__resizeHandle\",\r\n                                        (!isResizable || flow === 'vertical') && \"sg-block__blockGroup__resizeHandle--disabled\",\r\n                                    )}\r\n                                    onMouseDown={(e) => handleResizeStart(e, indexEl)}\r\n                                />}\r\n                        </div>\r\n                    ))\r\n                }\r\n                {!children?.length &&\r\n                    <div className=\"sg-block__blockGroup__placeholder\" />\r\n                }\r\n                {!!isActive &&\r\n                    <AddBlockContextMenu\r\n                        args={{ parentID: blockID }}\r\n                        className=\"sg-block__blockGroup__addChild\"\r\n                    >\r\n                        <button\r\n                            title=\"Ajouter des blocs à l'intérieur du groupe\"\r\n                            aria-label=\"Ajouter des blocs à l'intérieur du groupe\"\r\n                            className=\"sg-block__btn sg-block__btn--square\"><FaPlus /></button>\r\n                    </AddBlockContextMenu>\r\n                }\r\n\r\n                {(hasFocusWithin && !isActive) &&\r\n                    <Button\r\n                        className=\"sg-block__btn sg-block__btn--square sg-block__blockGroup__focusParent\"\r\n                        onClick={(e) => {\r\n                            e.stopPropagation();\r\n                            setActiveBlock(blockID)\r\n                        }}\r\n                        title=\"Sélectionner le groupe parent\"\r\n                        ariaLabel=\"Sélectionner le groupe parent\"\r\n                    >\r\n                        <MdCenterFocusStrong />\r\n                    </Button>\r\n                }\r\n            </div >\r\n        </>\r\n\r\n    )\r\n}\r\n\r\nexport default RowBlock;","import { Enable } from \"re-resizable\"\r\nimport { ComponentType, ReactElement } from \"react\"\r\nimport { IconType } from \"react-icons\"\r\n\r\nexport interface BlocksEditorProps {\r\n    data?: BlockType[] | null,\r\n    onChange?: (data: BlockType[]) => void,\r\n    extraBlocks?: Record<string, EditorBlock>\r\n}\r\n\r\ntype EditorBlockComponentProps = {\r\n    block: EditorParsedBlock,\r\n    isActive?: boolean\r\n}\r\n\r\nexport type EditorBlock = {\r\n    name: string,\r\n    type: string,\r\n    icon?: IconType|ComponentType,\r\n    render?: (value: BlockType<BlockValueGeneric>['value']) => Promise<string>|string,\r\n    editor?: ComponentType<EditorBlockComponentProps>,\r\n    defaultValue?: BlockType<BlockValueGeneric>['value'],\r\n    acceptChildren?: boolean,\r\n    isResizable?: boolean | Enable,\r\n    hasSpacingOptions?: boolean\r\n}\r\n\r\nexport interface EditorProviderProps {\r\n    children: React.ReactNode,\r\n    data?: BlockType[] | null,\r\n    onChange?: (data: BlockType[]) => void,\r\n    availableBlocks: { [key: string|symbol]: EditorBlock }\r\n}\r\n\r\nexport type EditorParsedBlock<T extends BlockType = BlockType<BlockValueGeneric>> = Omit<T, 'children'> & {\r\n    blockID: string,\r\n    parentID?: string,\r\n    children?: string[],\r\n    hasFocusWithin?: boolean,\r\n    isActive?: boolean,\r\n}\r\n \r\ntype BlockValueGeneric = Record<symbol|string, string|number|object|undefined>;\r\n\r\nexport type BlockType<V = BlockValueGeneric> = {\r\n    type: string;\r\n    value?: V & { \r\n        width?: number|string,\r\n        height?: number|string,\r\n        spacings?: {\r\n            top?: string,\r\n            right?: string,\r\n            bottom?: string,\r\n            left?: string\r\n        }\r\n    };\r\n    children?: BlockType<BlockValueGeneric>[];\r\n};\r\n\r\nexport type EditorRefObject = {\r\n    JSONValue: BlockType<BlockValueGeneric>[],\r\n    HTMLValue: string,\r\n    getJSONValue(): BlockType[];\r\n    getHTMLValue(): string;\r\n}\r\n\r\nexport type addBlockMenuProps = { \r\n    className?: string, \r\n    args?: { parentID?: string, position?: 'after' | 'before', reference?: string }, \r\n    children: ReactElement \r\n}"],"mappings":"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","names":["forwardRef","useCallback","useEffect","useRef","useEffect","useRef","useState","jsx","createContext","useCallback","useContext","useEffect","useRef","useState","useRef","useState","jsx","useState","useRef","value","jsx","jsxs","createContext","useState","useContext","useCallback","_a","_b","useEffect","useRef","_c","Fragment","jsx","jsxs","useState","useRef","useEffect","e","_a","value","clsx","useCallback","useEffect","useRef","React","useImperativeHandle","forwardRef","useEffect","React","createContext","useContext","useRef","useCallback","useCallback","useState","useEffect","useEffect","useEffect","useCallback","useState","useCallback","jsx","createContext","useRef","useCallback","useEditor","useContext","React","useState","React","jsx","jsxs","jsx","jsxs","jsx","jsxs","jsx","React","useState","React","Fragment","jsx","jsxs","jsx","jsxs","React","useEffect","useRef","useState","jsx","jsxs","useState","useEffect","useRef","React","useState","jsx","jsxs","useState","useState","Fragment","jsx","jsxs","useEditor","useState","React","React","Fragment","jsx","jsxs","useEditor","jsx","jsxs","forwardRef","useEditor","useImperativeHandle","useEffect","Fragment","jsx","useRef","useEffect","_a","_b","useCallback","clsx","useCallback","useEffect","useRef","useState","clsx","FaPlus","Fragment","jsx","jsxs","useState","useRef","useCallback","useEffect","_a","clsx","FaPlus","clsx","jsx","jsxs","useRef","useCallback","useEffect","clsx","FaPlus","forwardRef"]}